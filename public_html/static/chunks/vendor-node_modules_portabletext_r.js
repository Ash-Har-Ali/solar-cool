"use strict";
/*
 * ATTENTION: An "eval-source-map" devtool has been used.
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file with attached SourceMaps in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
(self["webpackChunk_N_E"] = self["webpackChunk_N_E"] || []).push([["vendor-node_modules_portabletext_r"],{

/***/ "(app-pages-browser)/./node_modules/@portabletext/react/dist/index.js":
/*!********************************************************!*\
  !*** ./node_modules/@portabletext/react/dist/index.js ***!
  \********************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   PortableText: function() { return /* binding */ PortableText; },\n/* harmony export */   defaultComponents: function() { return /* binding */ defaultComponents; },\n/* harmony export */   mergeComponents: function() { return /* binding */ mergeComponents; },\n/* harmony export */   toPlainText: function() { return /* reexport safe */ _portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.toPlainText; }\n/* harmony export */ });\n/* harmony import */ var _portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! @portabletext/toolkit */ \"(app-pages-browser)/./node_modules/@portabletext/toolkit/dist/index.js\");\n/* harmony import */ var react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! react/jsx-runtime */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/jsx-runtime.js\");\n/* harmony import */ var react__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! react */ \"(app-pages-browser)/./node_modules/next/dist/compiled/react/index.js\");\nvar _s = $RefreshSig$();\nconst _excluded = [\n    \"block\",\n    \"list\",\n    \"listItem\",\n    \"marks\",\n    \"types\"\n], _excluded2 = [\n    \"listItem\"\n], _excluded3 = [\n    \"_key\"\n];\nfunction ownKeys(e, r) {\n    var t = Object.keys(e);\n    if (Object.getOwnPropertySymbols) {\n        var o = Object.getOwnPropertySymbols(e);\n        r && (o = o.filter(function(r) {\n            return Object.getOwnPropertyDescriptor(e, r).enumerable;\n        })), t.push.apply(t, o);\n    }\n    return t;\n}\nfunction _objectSpread(e) {\n    for(var r = 1; r < arguments.length; r++){\n        var t = null != arguments[r] ? arguments[r] : {};\n        r % 2 ? ownKeys(Object(t), !0).forEach(function(r) {\n            _defineProperty(e, r, t[r]);\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function(r) {\n            Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n        });\n    }\n    return e;\n}\nfunction _defineProperty(obj, key, value) {\n    key = _toPropertyKey(key);\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, \"string\");\n    return typeof key === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n    if (typeof input !== \"object\" || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n    if (prim !== undefined) {\n        var res = prim.call(input, hint || \"default\");\n        if (typeof res !== \"object\") return res;\n        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (hint === \"string\" ? String : Number)(input);\n}\nfunction _objectWithoutProperties(source, excluded) {\n    if (source == null) return {};\n    var target = _objectWithoutPropertiesLoose(source, excluded);\n    var key, i;\n    if (Object.getOwnPropertySymbols) {\n        var sourceSymbolKeys = Object.getOwnPropertySymbols(source);\n        for(i = 0; i < sourceSymbolKeys.length; i++){\n            key = sourceSymbolKeys[i];\n            if (excluded.indexOf(key) >= 0) continue;\n            if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue;\n            target[key] = source[key];\n        }\n    }\n    return target;\n}\nfunction _objectWithoutPropertiesLoose(source, excluded) {\n    if (source == null) return {};\n    var target = {};\n    var sourceKeys = Object.keys(source);\n    var key, i;\n    for(i = 0; i < sourceKeys.length; i++){\n        key = sourceKeys[i];\n        if (excluded.indexOf(key) >= 0) continue;\n        target[key] = source[key];\n    }\n    return target;\n}\n\n\n\n\nfunction mergeComponents(parent, overrides) {\n    const { block, list, listItem, marks, types } = overrides, rest = _objectWithoutProperties(overrides, _excluded);\n    return _objectSpread(_objectSpread({}, parent), {}, {\n        block: mergeDeeply(parent, overrides, \"block\"),\n        list: mergeDeeply(parent, overrides, \"list\"),\n        listItem: mergeDeeply(parent, overrides, \"listItem\"),\n        marks: mergeDeeply(parent, overrides, \"marks\"),\n        types: mergeDeeply(parent, overrides, \"types\")\n    }, rest);\n}\nfunction mergeDeeply(parent, overrides, key) {\n    const override = overrides[key];\n    const parentVal = parent[key];\n    if (typeof override === \"function\") {\n        return override;\n    }\n    if (override && typeof parentVal === \"function\") {\n        return override;\n    }\n    if (override) {\n        return _objectSpread(_objectSpread({}, parentVal), override);\n    }\n    return parentVal;\n}\nconst link = (_ref)=>{\n    let { children, value } = _ref;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"a\", {\n        href: value == null ? void 0 : value.href,\n        children\n    });\n};\nconst underlineStyle = {\n    textDecoration: \"underline\"\n};\nconst defaultMarks = {\n    em: (_ref2)=>{\n        let { children } = _ref2;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"em\", {\n            children\n        });\n    },\n    strong: (_ref3)=>{\n        let { children } = _ref3;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"strong\", {\n            children\n        });\n    },\n    code: (_ref4)=>{\n        let { children } = _ref4;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"code\", {\n            children\n        });\n    },\n    underline: (_ref5)=>{\n        let { children } = _ref5;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n            style: underlineStyle,\n            children\n        });\n    },\n    \"strike-through\": (_ref6)=>{\n        let { children } = _ref6;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"del\", {\n            children\n        });\n    },\n    link\n};\nconst defaultLists = {\n    number: (_ref7)=>{\n        let { children } = _ref7;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"ol\", {\n            children\n        });\n    },\n    bullet: (_ref8)=>{\n        let { children } = _ref8;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"ul\", {\n            children\n        });\n    }\n};\nconst DefaultListItem = (_ref9)=>{\n    let { children } = _ref9;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n        children\n    });\n};\n_c = DefaultListItem;\nconst getTemplate = (type, prop)=>\"[@portabletext/react] Unknown \".concat(type, \", specify a component for it in the `components.\").concat(prop, \"` prop\");\nconst unknownTypeWarning = (typeName)=>getTemplate('block type \"'.concat(typeName, '\"'), \"types\");\nconst unknownMarkWarning = (markType)=>getTemplate('mark type \"'.concat(markType, '\"'), \"marks\");\nconst unknownBlockStyleWarning = (blockStyle)=>getTemplate('block style \"'.concat(blockStyle, '\"'), \"block\");\nconst unknownListStyleWarning = (listStyle)=>getTemplate('list style \"'.concat(listStyle, '\"'), \"list\");\nconst unknownListItemStyleWarning = (listStyle)=>getTemplate('list item style \"'.concat(listStyle, '\"'), \"listItem\");\nfunction printWarning(message) {\n    console.warn(message);\n}\nconst hidden = {\n    display: \"none\"\n};\nconst DefaultUnknownType = (_ref10)=>{\n    let { value, isInline } = _ref10;\n    const warning = unknownTypeWarning(value._type);\n    return isInline ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n        style: hidden,\n        children: warning\n    }) : /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"div\", {\n        style: hidden,\n        children: warning\n    });\n};\n_c1 = DefaultUnknownType;\nconst DefaultUnknownMark = (_ref11)=>{\n    let { markType, children } = _ref11;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"span\", {\n        className: \"unknown__pt__mark__\".concat(markType),\n        children\n    });\n};\n_c2 = DefaultUnknownMark;\nconst DefaultUnknownBlockStyle = (_ref12)=>{\n    let { children } = _ref12;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n        children\n    });\n};\n_c3 = DefaultUnknownBlockStyle;\nconst DefaultUnknownList = (_ref13)=>{\n    let { children } = _ref13;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"ul\", {\n        children\n    });\n};\n_c4 = DefaultUnknownList;\nconst DefaultUnknownListItem = (_ref14)=>{\n    let { children } = _ref14;\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"li\", {\n        children\n    });\n};\n_c5 = DefaultUnknownListItem;\nconst DefaultHardBreak = ()=>/* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"br\", {});\n_c6 = DefaultHardBreak;\nconst defaultBlockStyles = {\n    normal: (_ref15)=>{\n        let { children } = _ref15;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"p\", {\n            children\n        });\n    },\n    blockquote: (_ref16)=>{\n        let { children } = _ref16;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"blockquote\", {\n            children\n        });\n    },\n    h1: (_ref17)=>{\n        let { children } = _ref17;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h1\", {\n            children\n        });\n    },\n    h2: (_ref18)=>{\n        let { children } = _ref18;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h2\", {\n            children\n        });\n    },\n    h3: (_ref19)=>{\n        let { children } = _ref19;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h3\", {\n            children\n        });\n    },\n    h4: (_ref20)=>{\n        let { children } = _ref20;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h4\", {\n            children\n        });\n    },\n    h5: (_ref21)=>{\n        let { children } = _ref21;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h5\", {\n            children\n        });\n    },\n    h6: (_ref22)=>{\n        let { children } = _ref22;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(\"h6\", {\n            children\n        });\n    }\n};\nconst defaultComponents = {\n    types: {},\n    block: defaultBlockStyles,\n    marks: defaultMarks,\n    list: defaultLists,\n    listItem: DefaultListItem,\n    hardBreak: DefaultHardBreak,\n    unknownType: DefaultUnknownType,\n    unknownMark: DefaultUnknownMark,\n    unknownList: DefaultUnknownList,\n    unknownListItem: DefaultUnknownListItem,\n    unknownBlockStyle: DefaultUnknownBlockStyle\n};\nfunction PortableText(_ref23) {\n    _s();\n    let { value: input, components: componentOverrides, listNestingMode, onMissingComponent: missingComponentHandler = printWarning } = _ref23;\n    const handleMissingComponent = missingComponentHandler || noop;\n    const blocks = Array.isArray(input) ? input : [\n        input\n    ];\n    const nested = (0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.nestLists)(blocks, listNestingMode || _portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.LIST_NEST_MODE_HTML);\n    const components = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>{\n        return componentOverrides ? mergeComponents(defaultComponents, componentOverrides) : defaultComponents;\n    }, [\n        componentOverrides\n    ]);\n    const renderNode = (0,react__WEBPACK_IMPORTED_MODULE_2__.useMemo)(()=>getNodeRenderer(components, handleMissingComponent), [\n        components,\n        handleMissingComponent\n    ]);\n    const rendered = nested.map((node, index)=>renderNode({\n            node,\n            index,\n            isInline: false,\n            renderNode\n        }));\n    return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.Fragment, {\n        children: rendered\n    });\n}\n_s(PortableText, \"s12W6JaTXk/IwszQNQlCjc6yAac=\");\n_c7 = PortableText;\nconst getNodeRenderer = (components, handleMissingComponent)=>{\n    function renderNode(options) {\n        const { node, index, isInline } = options;\n        const key = node._key || \"node-\".concat(index);\n        if ((0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextToolkitList)(node)) {\n            return renderList(node, index, key);\n        }\n        if ((0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextListItemBlock)(node)) {\n            return renderListItem(node, index, key);\n        }\n        if ((0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextToolkitSpan)(node)) {\n            return renderSpan(node, index, key);\n        }\n        if (hasCustomComponentForNode(node)) {\n            return renderCustomBlock(node, index, key, isInline);\n        }\n        if ((0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextBlock)(node)) {\n            return renderBlock(node, index, key, isInline);\n        }\n        if ((0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.isPortableTextToolkitTextNode)(node)) {\n            return renderText(node, key);\n        }\n        return renderUnknownType(node, index, key, isInline);\n    }\n    function hasCustomComponentForNode(node) {\n        return node._type in components.types;\n    }\n    function renderListItem(node, index, key) {\n        const tree = serializeBlock({\n            node,\n            index,\n            isInline: false,\n            renderNode\n        });\n        const renderer = components.listItem;\n        const handler = typeof renderer === \"function\" ? renderer : renderer[node.listItem];\n        const Li = handler || components.unknownListItem;\n        if (Li === components.unknownListItem) {\n            const style = node.listItem || \"bullet\";\n            handleMissingComponent(unknownListItemStyleWarning(style), {\n                type: style,\n                nodeType: \"listItemStyle\"\n            });\n        }\n        let children = tree.children;\n        if (node.style && node.style !== \"normal\") {\n            const { listItem } = node, blockNode = _objectWithoutProperties(node, _excluded2);\n            children = renderNode({\n                node: blockNode,\n                index,\n                isInline: false,\n                renderNode\n            });\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Li, {\n            value: node,\n            index,\n            isInline: false,\n            renderNode,\n            children\n        }, key);\n    }\n    function renderList(node, index, key) {\n        const children = node.children.map((child, childIndex)=>renderNode({\n                node: child._key ? child : _objectSpread(_objectSpread({}, child), {}, {\n                    _key: \"li-\".concat(index, \"-\").concat(childIndex)\n                }),\n                index: childIndex,\n                isInline: false,\n                renderNode\n            }));\n        const component = components.list;\n        const handler = typeof component === \"function\" ? component : component[node.listItem];\n        const List = handler || components.unknownList;\n        if (List === components.unknownList) {\n            const style = node.listItem || \"bullet\";\n            handleMissingComponent(unknownListStyleWarning(style), {\n                nodeType: \"listStyle\",\n                type: style\n            });\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(List, {\n            value: node,\n            index,\n            isInline: false,\n            renderNode,\n            children\n        }, key);\n    }\n    function renderSpan(node, _index, key) {\n        const { markDef, markType, markKey } = node;\n        const Span = components.marks[markType] || components.unknownMark;\n        const children = node.children.map((child, childIndex)=>renderNode({\n                node: child,\n                index: childIndex,\n                isInline: true,\n                renderNode\n            }));\n        if (Span === components.unknownMark) {\n            handleMissingComponent(unknownMarkWarning(markType), {\n                nodeType: \"mark\",\n                type: markType\n            });\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Span, {\n            text: (0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.spanToPlainText)(node),\n            value: markDef,\n            markType,\n            markKey,\n            renderNode,\n            children\n        }, key);\n    }\n    function renderBlock(node, index, key, isInline) {\n        const _serializeBlock = serializeBlock({\n            node,\n            index,\n            isInline,\n            renderNode\n        }), { _key } = _serializeBlock, props = _objectWithoutProperties(_serializeBlock, _excluded3);\n        const style = props.node.style || \"normal\";\n        const handler = typeof components.block === \"function\" ? components.block : components.block[style];\n        const Block = handler || components.unknownBlockStyle;\n        if (Block === components.unknownBlockStyle) {\n            handleMissingComponent(unknownBlockStyleWarning(style), {\n                nodeType: \"blockStyle\",\n                type: style\n            });\n        }\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Block, _objectSpread(_objectSpread({}, props), {}, {\n            value: props.node,\n            renderNode\n        }), key);\n    }\n    function renderText(node, key) {\n        if (node.text === \"\\n\") {\n            const HardBreak = components.hardBreak;\n            return HardBreak ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(HardBreak, {}, key) : \"\\n\";\n        }\n        return node.text;\n    }\n    function renderUnknownType(node, index, key, isInline) {\n        const nodeOptions = {\n            value: node,\n            isInline,\n            index,\n            renderNode\n        };\n        handleMissingComponent(unknownTypeWarning(node._type), {\n            nodeType: \"block\",\n            type: node._type\n        });\n        const UnknownType = components.unknownType;\n        return /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(UnknownType, _objectSpread({}, nodeOptions), key);\n    }\n    function renderCustomBlock(node, index, key, isInline) {\n        const nodeOptions = {\n            value: node,\n            isInline,\n            index,\n            renderNode\n        };\n        const Node = components.types[node._type];\n        return Node ? /* @__PURE__ */ (0,react_jsx_runtime__WEBPACK_IMPORTED_MODULE_1__.jsx)(Node, _objectSpread({}, nodeOptions), key) : null;\n    }\n    return renderNode;\n};\nfunction serializeBlock(options) {\n    const { node, index, isInline, renderNode } = options;\n    const tree = (0,_portabletext_toolkit__WEBPACK_IMPORTED_MODULE_0__.buildMarksTree)(node);\n    const children = tree.map((child, i)=>renderNode({\n            node: child,\n            isInline: true,\n            index: i,\n            renderNode\n        }));\n    return {\n        _key: node._key || \"block-\".concat(index),\n        children,\n        index,\n        isInline,\n        node\n    };\n}\nfunction noop() {}\n //# sourceMappingURL=index.js.map\nvar _c, _c1, _c2, _c3, _c4, _c5, _c6, _c7;\n$RefreshReg$(_c, \"DefaultListItem\");\n$RefreshReg$(_c1, \"DefaultUnknownType\");\n$RefreshReg$(_c2, \"DefaultUnknownMark\");\n$RefreshReg$(_c3, \"DefaultUnknownBlockStyle\");\n$RefreshReg$(_c4, \"DefaultUnknownList\");\n$RefreshReg$(_c5, \"DefaultUnknownListItem\");\n$RefreshReg$(_c6, \"DefaultHardBreak\");\n$RefreshReg$(_c7, \"PortableText\");\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcG9ydGFibGV0ZXh0L3JlYWN0L2Rpc3QvaW5kZXguanMiLCJtYXBwaW5ncyI6Ijs7Ozs7Ozs7Ozs7QUFBQSxNQUFNQSxZQUFZO0lBQUM7SUFBUztJQUFRO0lBQVk7SUFBUztDQUFRLEVBQy9EQyxhQUFhO0lBQUM7Q0FBVyxFQUN6QkMsYUFBYTtJQUFDO0NBQU87QUFDdkIsU0FBU0MsUUFBUUMsQ0FBQyxFQUFFQyxDQUFDO0lBQUksSUFBSUMsSUFBSUMsT0FBT0MsSUFBSSxDQUFDSjtJQUFJLElBQUlHLE9BQU9FLHFCQUFxQixFQUFFO1FBQUUsSUFBSUMsSUFBSUgsT0FBT0UscUJBQXFCLENBQUNMO1FBQUlDLEtBQU1LLENBQUFBLElBQUlBLEVBQUVDLE1BQU0sQ0FBQyxTQUFVTixDQUFDO1lBQUksT0FBT0UsT0FBT0ssd0JBQXdCLENBQUNSLEdBQUdDLEdBQUdRLFVBQVU7UUFBRSxFQUFDLEdBQUlQLEVBQUVRLElBQUksQ0FBQ0MsS0FBSyxDQUFDVCxHQUFHSTtJQUFJO0lBQUUsT0FBT0o7QUFBRztBQUM5UCxTQUFTVSxjQUFjWixDQUFDO0lBQUksSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlZLFVBQVVDLE1BQU0sRUFBRWIsSUFBSztRQUFFLElBQUlDLElBQUksUUFBUVcsU0FBUyxDQUFDWixFQUFFLEdBQUdZLFNBQVMsQ0FBQ1osRUFBRSxHQUFHLENBQUM7UUFBR0EsSUFBSSxJQUFJRixRQUFRSSxPQUFPRCxJQUFJLENBQUMsR0FBR2EsT0FBTyxDQUFDLFNBQVVkLENBQUM7WUFBSWUsZ0JBQWdCaEIsR0FBR0MsR0FBR0MsQ0FBQyxDQUFDRCxFQUFFO1FBQUcsS0FBS0UsT0FBT2MseUJBQXlCLEdBQUdkLE9BQU9lLGdCQUFnQixDQUFDbEIsR0FBR0csT0FBT2MseUJBQXlCLENBQUNmLE1BQU1ILFFBQVFJLE9BQU9ELElBQUlhLE9BQU8sQ0FBQyxTQUFVZCxDQUFDO1lBQUlFLE9BQU9nQixjQUFj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Tl9FLy4vbm9kZV9tb2R1bGVzL0Bwb3J0YWJsZXRleHQvcmVhY3QvZGlzdC9pbmRleC5qcz9iZmNhIl0sInNvdXJjZXNDb250ZW50IjpbImNvbnN0IF9leGNsdWRlZCA9IFtcImJsb2NrXCIsIFwibGlzdFwiLCBcImxpc3RJdGVtXCIsIFwibWFya3NcIiwgXCJ0eXBlc1wiXSxcbiAgX2V4Y2x1ZGVkMiA9IFtcImxpc3RJdGVtXCJdLFxuICBfZXhjbHVkZWQzID0gW1wiX2tleVwiXTtcbmZ1bmN0aW9uIG93bktleXMoZSwgcikgeyB2YXIgdCA9IE9iamVjdC5rZXlzKGUpOyBpZiAoT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scykgeyB2YXIgbyA9IE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMoZSk7IHIgJiYgKG8gPSBvLmZpbHRlcihmdW5jdGlvbiAocikgeyByZXR1cm4gT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcihlLCByKS5lbnVtZXJhYmxlOyB9KSksIHQucHVzaC5hcHBseSh0LCBvKTsgfSByZXR1cm4gdDsgfVxuZnVuY3Rpb24gX29iamVjdFNwcmVhZChlKSB7IGZvciAodmFyIHIgPSAxOyByIDwgYXJndW1lbnRzLmxlbmd0aDsgcisrKSB7IHZhciB0ID0gbnVsbCAhPSBhcmd1bWVudHNbcl0gPyBhcmd1bWVudHNbcl0gOiB7fTsgciAlIDIgPyBvd25LZXlzKE9iamVjdCh0KSwgITApLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgX2RlZmluZVByb3BlcnR5KGUsIHIsIHRbcl0pOyB9KSA6IE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzID8gT2JqZWN0LmRlZmluZVByb3BlcnRpZXMoZSwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnModCkpIDogb3duS2V5cyhPYmplY3QodCkpLmZvckVhY2goZnVuY3Rpb24gKHIpIHsgT2JqZWN0LmRlZmluZVByb3BlcnR5KGUsIHIsIE9iamVjdC5nZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IodCwgcikpOyB9KTsgfSByZXR1cm4gZTsgfVxuZnVuY3Rpb24gX2RlZmluZVByb3BlcnR5KG9iaiwga2V5LCB2YWx1ZSkgeyBrZXkgPSBfdG9Qcm9wZXJ0eUtleShrZXkpOyBpZiAoa2V5IGluIG9iaikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHsgdmFsdWU6IHZhbHVlLCBlbnVtZXJhYmxlOiB0cnVlLCBjb25maWd1cmFibGU6IHRydWUsIHdyaXRhYmxlOiB0cnVlIH0pOyB9IGVsc2UgeyBvYmpba2V5XSA9IHZhbHVlOyB9IHJldHVybiBvYmo7IH1cbmZ1bmN0aW9uIF90b1Byb3BlcnR5S2V5KGFyZykgeyB2YXIga2V5ID0gX3RvUHJpbWl0aXZlKGFyZywgXCJzdHJpbmdcIik7IHJldHVybiB0eXBlb2Yga2V5ID09PSBcInN5bWJvbFwiID8ga2V5IDogU3RyaW5nKGtleSk7IH1cbmZ1bmN0aW9uIF90b1ByaW1pdGl2ZShpbnB1dCwgaGludCkgeyBpZiAodHlwZW9mIGlucHV0ICE9PSBcIm9iamVjdFwiIHx8IGlucHV0ID09PSBudWxsKSByZXR1cm4gaW5wdXQ7IHZhciBwcmltID0gaW5wdXRbU3ltYm9sLnRvUHJpbWl0aXZlXTsgaWYgKHByaW0gIT09IHVuZGVmaW5lZCkgeyB2YXIgcmVzID0gcHJpbS5jYWxsKGlucHV0LCBoaW50IHx8IFwiZGVmYXVsdFwiKTsgaWYgKHR5cGVvZiByZXMgIT09IFwib2JqZWN0XCIpIHJldHVybiByZXM7IHRocm93IG5ldyBUeXBlRXJyb3IoXCJAQHRvUHJpbWl0aXZlIG11c3QgcmV0dXJuIGEgcHJpbWl0aXZlIHZhbHVlLlwiKTsgfSByZXR1cm4gKGhpbnQgPT09IFwic3RyaW5nXCIgPyBTdHJpbmcgOiBOdW1iZXIpKGlucHV0KTsgfVxuZnVuY3Rpb24gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKHNvdXJjZSwgZXhjbHVkZWQpIHsgaWYgKHNvdXJjZSA9PSBudWxsKSByZXR1cm4ge307IHZhciB0YXJnZXQgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKTsgdmFyIGtleSwgaTsgaWYgKE9iamVjdC5nZXRPd25Qcm9wZXJ0eVN5bWJvbHMpIHsgdmFyIHNvdXJjZVN5bWJvbEtleXMgPSBPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKHNvdXJjZSk7IGZvciAoaSA9IDA7IGkgPCBzb3VyY2VTeW1ib2xLZXlzLmxlbmd0aDsgaSsrKSB7IGtleSA9IHNvdXJjZVN5bWJvbEtleXNbaV07IGlmIChleGNsdWRlZC5pbmRleE9mKGtleSkgPj0gMCkgY29udGludWU7IGlmICghT2JqZWN0LnByb3RvdHlwZS5wcm9wZXJ0eUlzRW51bWVyYWJsZS5jYWxsKHNvdXJjZSwga2V5KSkgY29udGludWU7IHRhcmdldFtrZXldID0gc291cmNlW2tleV07IH0gfSByZXR1cm4gdGFyZ2V0OyB9XG5mdW5jdGlvbiBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXNMb29zZShzb3VyY2UsIGV4Y2x1ZGVkKSB7IGlmIChzb3VyY2UgPT0gbnVsbCkgcmV0dXJuIHt9OyB2YXIgdGFyZ2V0ID0ge307IHZhciBzb3VyY2VLZXlzID0gT2JqZWN0LmtleXMoc291cmNlKTsgdmFyIGtleSwgaTsgZm9yIChpID0gMDsgaSA8IHNvdXJjZUtleXMubGVuZ3RoOyBpKyspIHsga2V5ID0gc291cmNlS2V5c1tpXTsgaWYgKGV4Y2x1ZGVkLmluZGV4T2Yoa2V5KSA+PSAwKSBjb250aW51ZTsgdGFyZ2V0W2tleV0gPSBzb3VyY2Vba2V5XTsgfSByZXR1cm4gdGFyZ2V0OyB9XG5pbXBvcnQgeyBuZXN0TGlzdHMsIExJU1RfTkVTVF9NT0RFX0hUTUwsIGlzUG9ydGFibGVUZXh0VG9vbGtpdExpc3QsIGlzUG9ydGFibGVUZXh0TGlzdEl0ZW1CbG9jaywgaXNQb3J0YWJsZVRleHRUb29sa2l0U3BhbiwgaXNQb3J0YWJsZVRleHRCbG9jaywgaXNQb3J0YWJsZVRleHRUb29sa2l0VGV4dE5vZGUsIHNwYW5Ub1BsYWluVGV4dCwgYnVpbGRNYXJrc1RyZWUgfSBmcm9tICdAcG9ydGFibGV0ZXh0L3Rvb2xraXQnO1xuZXhwb3J0IHsgdG9QbGFpblRleHQgfSBmcm9tICdAcG9ydGFibGV0ZXh0L3Rvb2xraXQnO1xuaW1wb3J0IHsganN4LCBGcmFnbWVudCB9IGZyb20gJ3JlYWN0L2pzeC1ydW50aW1lJztcbmltcG9ydCB7IHVzZU1lbW8gfSBmcm9tICdyZWFjdCc7XG5mdW5jdGlvbiBtZXJnZUNvbXBvbmVudHMocGFyZW50LCBvdmVycmlkZXMpIHtcbiAgY29uc3Qge1xuICAgICAgYmxvY2ssXG4gICAgICBsaXN0LFxuICAgICAgbGlzdEl0ZW0sXG4gICAgICBtYXJrcyxcbiAgICAgIHR5cGVzXG4gICAgfSA9IG92ZXJyaWRlcyxcbiAgICByZXN0ID0gX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzKG92ZXJyaWRlcywgX2V4Y2x1ZGVkKTtcbiAgcmV0dXJuIF9vYmplY3RTcHJlYWQoX29iamVjdFNwcmVhZCh7fSwgcGFyZW50KSwge30sIHtcbiAgICBibG9jazogbWVyZ2VEZWVwbHkocGFyZW50LCBvdmVycmlkZXMsIFwiYmxvY2tcIiksXG4gICAgbGlzdDogbWVyZ2VEZWVwbHkocGFyZW50LCBvdmVycmlkZXMsIFwibGlzdFwiKSxcbiAgICBsaXN0SXRlbTogbWVyZ2VEZWVwbHkocGFyZW50LCBvdmVycmlkZXMsIFwibGlzdEl0ZW1cIiksXG4gICAgbWFya3M6IG1lcmdlRGVlcGx5KHBhcmVudCwgb3ZlcnJpZGVzLCBcIm1hcmtzXCIpLFxuICAgIHR5cGVzOiBtZXJnZURlZXBseShwYXJlbnQsIG92ZXJyaWRlcywgXCJ0eXBlc1wiKVxuICB9LCByZXN0KTtcbn1cbmZ1bmN0aW9uIG1lcmdlRGVlcGx5KHBhcmVudCwgb3ZlcnJpZGVzLCBrZXkpIHtcbiAgY29uc3Qgb3ZlcnJpZGUgPSBvdmVycmlkZXNba2V5XTtcbiAgY29uc3QgcGFyZW50VmFsID0gcGFyZW50W2tleV07XG4gIGlmICh0eXBlb2Ygb3ZlcnJpZGUgPT09IFwiZnVuY3Rpb25cIikge1xuICAgIHJldHVybiBvdmVycmlkZTtcbiAgfVxuICBpZiAob3ZlcnJpZGUgJiYgdHlwZW9mIHBhcmVudFZhbCA9PT0gXCJmdW5jdGlvblwiKSB7XG4gICAgcmV0dXJuIG92ZXJyaWRlO1xuICB9XG4gIGlmIChvdmVycmlkZSkge1xuICAgIHJldHVybiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHBhcmVudFZhbCksIG92ZXJyaWRlKTtcbiAgfVxuICByZXR1cm4gcGFyZW50VmFsO1xufVxuY29uc3QgbGluayA9IF9yZWYgPT4ge1xuICBsZXQge1xuICAgIGNoaWxkcmVuLFxuICAgIHZhbHVlXG4gIH0gPSBfcmVmO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwiYVwiLCB7XG4gICAgaHJlZjogdmFsdWUgPT0gbnVsbCA/IHZvaWQgMCA6IHZhbHVlLmhyZWYsXG4gICAgY2hpbGRyZW5cbiAgfSk7XG59O1xuY29uc3QgdW5kZXJsaW5lU3R5bGUgPSB7XG4gIHRleHREZWNvcmF0aW9uOiBcInVuZGVybGluZVwiXG59O1xuY29uc3QgZGVmYXVsdE1hcmtzID0ge1xuICBlbTogX3JlZjIgPT4ge1xuICAgIGxldCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0gPSBfcmVmMjtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwiZW1cIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgc3Ryb25nOiBfcmVmMyA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWYzO1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJzdHJvbmdcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgY29kZTogX3JlZjQgPT4ge1xuICAgIGxldCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0gPSBfcmVmNDtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwiY29kZVwiLCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0pO1xuICB9LFxuICB1bmRlcmxpbmU6IF9yZWY1ID0+IHtcbiAgICBsZXQge1xuICAgICAgY2hpbGRyZW5cbiAgICB9ID0gX3JlZjU7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcInNwYW5cIiwge1xuICAgICAgc3R5bGU6IHVuZGVybGluZVN0eWxlLFxuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgXCJzdHJpa2UtdGhyb3VnaFwiOiBfcmVmNiA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWY2O1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJkZWxcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgbGlua1xufTtcbmNvbnN0IGRlZmF1bHRMaXN0cyA9IHtcbiAgbnVtYmVyOiBfcmVmNyA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWY3O1xuICAgIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJvbFwiLCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0pO1xuICB9LFxuICBidWxsZXQ6IF9yZWY4ID0+IHtcbiAgICBsZXQge1xuICAgICAgY2hpbGRyZW5cbiAgICB9ID0gX3JlZjg7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcInVsXCIsIHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSk7XG4gIH1cbn07XG5jb25zdCBEZWZhdWx0TGlzdEl0ZW0gPSBfcmVmOSA9PiB7XG4gIGxldCB7XG4gICAgY2hpbGRyZW5cbiAgfSA9IF9yZWY5O1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwibGlcIiwge1xuICAgIGNoaWxkcmVuXG4gIH0pO1xufTtcbmNvbnN0IGdldFRlbXBsYXRlID0gKHR5cGUsIHByb3ApID0+IFwiW0Bwb3J0YWJsZXRleHQvcmVhY3RdIFVua25vd24gXCIuY29uY2F0KHR5cGUsIFwiLCBzcGVjaWZ5IGEgY29tcG9uZW50IGZvciBpdCBpbiB0aGUgYGNvbXBvbmVudHMuXCIpLmNvbmNhdChwcm9wLCBcImAgcHJvcFwiKTtcbmNvbnN0IHVua25vd25UeXBlV2FybmluZyA9IHR5cGVOYW1lID0+IGdldFRlbXBsYXRlKCdibG9jayB0eXBlIFwiJy5jb25jYXQodHlwZU5hbWUsICdcIicpLCBcInR5cGVzXCIpO1xuY29uc3QgdW5rbm93bk1hcmtXYXJuaW5nID0gbWFya1R5cGUgPT4gZ2V0VGVtcGxhdGUoJ21hcmsgdHlwZSBcIicuY29uY2F0KG1hcmtUeXBlLCAnXCInKSwgXCJtYXJrc1wiKTtcbmNvbnN0IHVua25vd25CbG9ja1N0eWxlV2FybmluZyA9IGJsb2NrU3R5bGUgPT4gZ2V0VGVtcGxhdGUoJ2Jsb2NrIHN0eWxlIFwiJy5jb25jYXQoYmxvY2tTdHlsZSwgJ1wiJyksIFwiYmxvY2tcIik7XG5jb25zdCB1bmtub3duTGlzdFN0eWxlV2FybmluZyA9IGxpc3RTdHlsZSA9PiBnZXRUZW1wbGF0ZSgnbGlzdCBzdHlsZSBcIicuY29uY2F0KGxpc3RTdHlsZSwgJ1wiJyksIFwibGlzdFwiKTtcbmNvbnN0IHVua25vd25MaXN0SXRlbVN0eWxlV2FybmluZyA9IGxpc3RTdHlsZSA9PiBnZXRUZW1wbGF0ZSgnbGlzdCBpdGVtIHN0eWxlIFwiJy5jb25jYXQobGlzdFN0eWxlLCAnXCInKSwgXCJsaXN0SXRlbVwiKTtcbmZ1bmN0aW9uIHByaW50V2FybmluZyhtZXNzYWdlKSB7XG4gIGNvbnNvbGUud2FybihtZXNzYWdlKTtcbn1cbmNvbnN0IGhpZGRlbiA9IHtcbiAgZGlzcGxheTogXCJub25lXCJcbn07XG5jb25zdCBEZWZhdWx0VW5rbm93blR5cGUgPSBfcmVmMTAgPT4ge1xuICBsZXQge1xuICAgIHZhbHVlLFxuICAgIGlzSW5saW5lXG4gIH0gPSBfcmVmMTA7XG4gIGNvbnN0IHdhcm5pbmcgPSB1bmtub3duVHlwZVdhcm5pbmcodmFsdWUuX3R5cGUpO1xuICByZXR1cm4gaXNJbmxpbmUgPyAvKiBAX19QVVJFX18gKi9qc3goXCJzcGFuXCIsIHtcbiAgICBzdHlsZTogaGlkZGVuLFxuICAgIGNoaWxkcmVuOiB3YXJuaW5nXG4gIH0pIDogLyogQF9fUFVSRV9fICovanN4KFwiZGl2XCIsIHtcbiAgICBzdHlsZTogaGlkZGVuLFxuICAgIGNoaWxkcmVuOiB3YXJuaW5nXG4gIH0pO1xufTtcbmNvbnN0IERlZmF1bHRVbmtub3duTWFyayA9IF9yZWYxMSA9PiB7XG4gIGxldCB7XG4gICAgbWFya1R5cGUsXG4gICAgY2hpbGRyZW5cbiAgfSA9IF9yZWYxMTtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcInNwYW5cIiwge1xuICAgIGNsYXNzTmFtZTogXCJ1bmtub3duX19wdF9fbWFya19fXCIuY29uY2F0KG1hcmtUeXBlKSxcbiAgICBjaGlsZHJlblxuICB9KTtcbn07XG5jb25zdCBEZWZhdWx0VW5rbm93bkJsb2NrU3R5bGUgPSBfcmVmMTIgPT4ge1xuICBsZXQge1xuICAgIGNoaWxkcmVuXG4gIH0gPSBfcmVmMTI7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJwXCIsIHtcbiAgICBjaGlsZHJlblxuICB9KTtcbn07XG5jb25zdCBEZWZhdWx0VW5rbm93bkxpc3QgPSBfcmVmMTMgPT4ge1xuICBsZXQge1xuICAgIGNoaWxkcmVuXG4gIH0gPSBfcmVmMTM7XG4gIHJldHVybiAvKiBAX19QVVJFX18gKi9qc3goXCJ1bFwiLCB7XG4gICAgY2hpbGRyZW5cbiAgfSk7XG59O1xuY29uc3QgRGVmYXVsdFVua25vd25MaXN0SXRlbSA9IF9yZWYxNCA9PiB7XG4gIGxldCB7XG4gICAgY2hpbGRyZW5cbiAgfSA9IF9yZWYxNDtcbiAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcImxpXCIsIHtcbiAgICBjaGlsZHJlblxuICB9KTtcbn07XG5jb25zdCBEZWZhdWx0SGFyZEJyZWFrID0gKCkgPT4gLyogQF9fUFVSRV9fICovanN4KFwiYnJcIiwge30pO1xuY29uc3QgZGVmYXVsdEJsb2NrU3R5bGVzID0ge1xuICBub3JtYWw6IF9yZWYxNSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWYxNTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwicFwiLCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0pO1xuICB9LFxuICBibG9ja3F1b3RlOiBfcmVmMTYgPT4ge1xuICAgIGxldCB7XG4gICAgICBjaGlsZHJlblxuICAgIH0gPSBfcmVmMTY7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChcImJsb2NrcXVvdGVcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgaDE6IF9yZWYxNyA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWYxNztcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwiaDFcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgaDI6IF9yZWYxOCA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWYxODtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwiaDJcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgaDM6IF9yZWYxOSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWYxOTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwiaDNcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgaDQ6IF9yZWYyMCA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWYyMDtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwiaDRcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgaDU6IF9yZWYyMSA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWYyMTtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwiaDVcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfSxcbiAgaDY6IF9yZWYyMiA9PiB7XG4gICAgbGV0IHtcbiAgICAgIGNoaWxkcmVuXG4gICAgfSA9IF9yZWYyMjtcbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KFwiaDZcIiwge1xuICAgICAgY2hpbGRyZW5cbiAgICB9KTtcbiAgfVxufTtcbmNvbnN0IGRlZmF1bHRDb21wb25lbnRzID0ge1xuICB0eXBlczoge30sXG4gIGJsb2NrOiBkZWZhdWx0QmxvY2tTdHlsZXMsXG4gIG1hcmtzOiBkZWZhdWx0TWFya3MsXG4gIGxpc3Q6IGRlZmF1bHRMaXN0cyxcbiAgbGlzdEl0ZW06IERlZmF1bHRMaXN0SXRlbSxcbiAgaGFyZEJyZWFrOiBEZWZhdWx0SGFyZEJyZWFrLFxuICB1bmtub3duVHlwZTogRGVmYXVsdFVua25vd25UeXBlLFxuICB1bmtub3duTWFyazogRGVmYXVsdFVua25vd25NYXJrLFxuICB1bmtub3duTGlzdDogRGVmYXVsdFVua25vd25MaXN0LFxuICB1bmtub3duTGlzdEl0ZW06IERlZmF1bHRVbmtub3duTGlzdEl0ZW0sXG4gIHVua25vd25CbG9ja1N0eWxlOiBEZWZhdWx0VW5rbm93bkJsb2NrU3R5bGVcbn07XG5mdW5jdGlvbiBQb3J0YWJsZVRleHQoX3JlZjIzKSB7XG4gIGxldCB7XG4gICAgdmFsdWU6IGlucHV0LFxuICAgIGNvbXBvbmVudHM6IGNvbXBvbmVudE92ZXJyaWRlcyxcbiAgICBsaXN0TmVzdGluZ01vZGUsXG4gICAgb25NaXNzaW5nQ29tcG9uZW50OiBtaXNzaW5nQ29tcG9uZW50SGFuZGxlciA9IHByaW50V2FybmluZ1xuICB9ID0gX3JlZjIzO1xuICBjb25zdCBoYW5kbGVNaXNzaW5nQ29tcG9uZW50ID0gbWlzc2luZ0NvbXBvbmVudEhhbmRsZXIgfHwgbm9vcDtcbiAgY29uc3QgYmxvY2tzID0gQXJyYXkuaXNBcnJheShpbnB1dCkgPyBpbnB1dCA6IFtpbnB1dF07XG4gIGNvbnN0IG5lc3RlZCA9IG5lc3RMaXN0cyhibG9ja3MsIGxpc3ROZXN0aW5nTW9kZSB8fCBMSVNUX05FU1RfTU9ERV9IVE1MKTtcbiAgY29uc3QgY29tcG9uZW50cyA9IHVzZU1lbW8oKCkgPT4ge1xuICAgIHJldHVybiBjb21wb25lbnRPdmVycmlkZXMgPyBtZXJnZUNvbXBvbmVudHMoZGVmYXVsdENvbXBvbmVudHMsIGNvbXBvbmVudE92ZXJyaWRlcykgOiBkZWZhdWx0Q29tcG9uZW50cztcbiAgfSwgW2NvbXBvbmVudE92ZXJyaWRlc10pO1xuICBjb25zdCByZW5kZXJOb2RlID0gdXNlTWVtbygoKSA9PiBnZXROb2RlUmVuZGVyZXIoY29tcG9uZW50cywgaGFuZGxlTWlzc2luZ0NvbXBvbmVudCksIFtjb21wb25lbnRzLCBoYW5kbGVNaXNzaW5nQ29tcG9uZW50XSk7XG4gIGNvbnN0IHJlbmRlcmVkID0gbmVzdGVkLm1hcCgobm9kZSwgaW5kZXgpID0+IHJlbmRlck5vZGUoe1xuICAgIG5vZGUsXG4gICAgaW5kZXgsXG4gICAgaXNJbmxpbmU6IGZhbHNlLFxuICAgIHJlbmRlck5vZGVcbiAgfSkpO1xuICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KEZyYWdtZW50LCB7XG4gICAgY2hpbGRyZW46IHJlbmRlcmVkXG4gIH0pO1xufVxuY29uc3QgZ2V0Tm9kZVJlbmRlcmVyID0gKGNvbXBvbmVudHMsIGhhbmRsZU1pc3NpbmdDb21wb25lbnQpID0+IHtcbiAgZnVuY3Rpb24gcmVuZGVyTm9kZShvcHRpb25zKSB7XG4gICAgY29uc3Qge1xuICAgICAgbm9kZSxcbiAgICAgIGluZGV4LFxuICAgICAgaXNJbmxpbmVcbiAgICB9ID0gb3B0aW9ucztcbiAgICBjb25zdCBrZXkgPSBub2RlLl9rZXkgfHwgXCJub2RlLVwiLmNvbmNhdChpbmRleCk7XG4gICAgaWYgKGlzUG9ydGFibGVUZXh0VG9vbGtpdExpc3Qobm9kZSkpIHtcbiAgICAgIHJldHVybiByZW5kZXJMaXN0KG5vZGUsIGluZGV4LCBrZXkpO1xuICAgIH1cbiAgICBpZiAoaXNQb3J0YWJsZVRleHRMaXN0SXRlbUJsb2NrKG5vZGUpKSB7XG4gICAgICByZXR1cm4gcmVuZGVyTGlzdEl0ZW0obm9kZSwgaW5kZXgsIGtleSk7XG4gICAgfVxuICAgIGlmIChpc1BvcnRhYmxlVGV4dFRvb2xraXRTcGFuKG5vZGUpKSB7XG4gICAgICByZXR1cm4gcmVuZGVyU3Bhbihub2RlLCBpbmRleCwga2V5KTtcbiAgICB9XG4gICAgaWYgKGhhc0N1c3RvbUNvbXBvbmVudEZvck5vZGUobm9kZSkpIHtcbiAgICAgIHJldHVybiByZW5kZXJDdXN0b21CbG9jayhub2RlLCBpbmRleCwga2V5LCBpc0lubGluZSk7XG4gICAgfVxuICAgIGlmIChpc1BvcnRhYmxlVGV4dEJsb2NrKG5vZGUpKSB7XG4gICAgICByZXR1cm4gcmVuZGVyQmxvY2sobm9kZSwgaW5kZXgsIGtleSwgaXNJbmxpbmUpO1xuICAgIH1cbiAgICBpZiAoaXNQb3J0YWJsZVRleHRUb29sa2l0VGV4dE5vZGUobm9kZSkpIHtcbiAgICAgIHJldHVybiByZW5kZXJUZXh0KG5vZGUsIGtleSk7XG4gICAgfVxuICAgIHJldHVybiByZW5kZXJVbmtub3duVHlwZShub2RlLCBpbmRleCwga2V5LCBpc0lubGluZSk7XG4gIH1cbiAgZnVuY3Rpb24gaGFzQ3VzdG9tQ29tcG9uZW50Rm9yTm9kZShub2RlKSB7XG4gICAgcmV0dXJuIG5vZGUuX3R5cGUgaW4gY29tcG9uZW50cy50eXBlcztcbiAgfVxuICBmdW5jdGlvbiByZW5kZXJMaXN0SXRlbShub2RlLCBpbmRleCwga2V5KSB7XG4gICAgY29uc3QgdHJlZSA9IHNlcmlhbGl6ZUJsb2NrKHtcbiAgICAgIG5vZGUsXG4gICAgICBpbmRleCxcbiAgICAgIGlzSW5saW5lOiBmYWxzZSxcbiAgICAgIHJlbmRlck5vZGVcbiAgICB9KTtcbiAgICBjb25zdCByZW5kZXJlciA9IGNvbXBvbmVudHMubGlzdEl0ZW07XG4gICAgY29uc3QgaGFuZGxlciA9IHR5cGVvZiByZW5kZXJlciA9PT0gXCJmdW5jdGlvblwiID8gcmVuZGVyZXIgOiByZW5kZXJlcltub2RlLmxpc3RJdGVtXTtcbiAgICBjb25zdCBMaSA9IGhhbmRsZXIgfHwgY29tcG9uZW50cy51bmtub3duTGlzdEl0ZW07XG4gICAgaWYgKExpID09PSBjb21wb25lbnRzLnVua25vd25MaXN0SXRlbSkge1xuICAgICAgY29uc3Qgc3R5bGUgPSBub2RlLmxpc3RJdGVtIHx8IFwiYnVsbGV0XCI7XG4gICAgICBoYW5kbGVNaXNzaW5nQ29tcG9uZW50KHVua25vd25MaXN0SXRlbVN0eWxlV2FybmluZyhzdHlsZSksIHtcbiAgICAgICAgdHlwZTogc3R5bGUsXG4gICAgICAgIG5vZGVUeXBlOiBcImxpc3RJdGVtU3R5bGVcIlxuICAgICAgfSk7XG4gICAgfVxuICAgIGxldCBjaGlsZHJlbiA9IHRyZWUuY2hpbGRyZW47XG4gICAgaWYgKG5vZGUuc3R5bGUgJiYgbm9kZS5zdHlsZSAhPT0gXCJub3JtYWxcIikge1xuICAgICAgY29uc3Qge1xuICAgICAgICAgIGxpc3RJdGVtXG4gICAgICAgIH0gPSBub2RlLFxuICAgICAgICBibG9ja05vZGUgPSBfb2JqZWN0V2l0aG91dFByb3BlcnRpZXMobm9kZSwgX2V4Y2x1ZGVkMik7XG4gICAgICBjaGlsZHJlbiA9IHJlbmRlck5vZGUoe1xuICAgICAgICBub2RlOiBibG9ja05vZGUsXG4gICAgICAgIGluZGV4LFxuICAgICAgICBpc0lubGluZTogZmFsc2UsXG4gICAgICAgIHJlbmRlck5vZGVcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KExpLCB7XG4gICAgICB2YWx1ZTogbm9kZSxcbiAgICAgIGluZGV4LFxuICAgICAgaXNJbmxpbmU6IGZhbHNlLFxuICAgICAgcmVuZGVyTm9kZSxcbiAgICAgIGNoaWxkcmVuXG4gICAgfSwga2V5KTtcbiAgfVxuICBmdW5jdGlvbiByZW5kZXJMaXN0KG5vZGUsIGluZGV4LCBrZXkpIHtcbiAgICBjb25zdCBjaGlsZHJlbiA9IG5vZGUuY2hpbGRyZW4ubWFwKChjaGlsZCwgY2hpbGRJbmRleCkgPT4gcmVuZGVyTm9kZSh7XG4gICAgICBub2RlOiBjaGlsZC5fa2V5ID8gY2hpbGQgOiBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIGNoaWxkKSwge30sIHtcbiAgICAgICAgX2tleTogXCJsaS1cIi5jb25jYXQoaW5kZXgsIFwiLVwiKS5jb25jYXQoY2hpbGRJbmRleClcbiAgICAgIH0pLFxuICAgICAgaW5kZXg6IGNoaWxkSW5kZXgsXG4gICAgICBpc0lubGluZTogZmFsc2UsXG4gICAgICByZW5kZXJOb2RlXG4gICAgfSkpO1xuICAgIGNvbnN0IGNvbXBvbmVudCA9IGNvbXBvbmVudHMubGlzdDtcbiAgICBjb25zdCBoYW5kbGVyID0gdHlwZW9mIGNvbXBvbmVudCA9PT0gXCJmdW5jdGlvblwiID8gY29tcG9uZW50IDogY29tcG9uZW50W25vZGUubGlzdEl0ZW1dO1xuICAgIGNvbnN0IExpc3QgPSBoYW5kbGVyIHx8IGNvbXBvbmVudHMudW5rbm93bkxpc3Q7XG4gICAgaWYgKExpc3QgPT09IGNvbXBvbmVudHMudW5rbm93bkxpc3QpIHtcbiAgICAgIGNvbnN0IHN0eWxlID0gbm9kZS5saXN0SXRlbSB8fCBcImJ1bGxldFwiO1xuICAgICAgaGFuZGxlTWlzc2luZ0NvbXBvbmVudCh1bmtub3duTGlzdFN0eWxlV2FybmluZyhzdHlsZSksIHtcbiAgICAgICAgbm9kZVR5cGU6IFwibGlzdFN0eWxlXCIsXG4gICAgICAgIHR5cGU6IHN0eWxlXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChMaXN0LCB7XG4gICAgICB2YWx1ZTogbm9kZSxcbiAgICAgIGluZGV4LFxuICAgICAgaXNJbmxpbmU6IGZhbHNlLFxuICAgICAgcmVuZGVyTm9kZSxcbiAgICAgIGNoaWxkcmVuXG4gICAgfSwga2V5KTtcbiAgfVxuICBmdW5jdGlvbiByZW5kZXJTcGFuKG5vZGUsIF9pbmRleCwga2V5KSB7XG4gICAgY29uc3Qge1xuICAgICAgbWFya0RlZixcbiAgICAgIG1hcmtUeXBlLFxuICAgICAgbWFya0tleVxuICAgIH0gPSBub2RlO1xuICAgIGNvbnN0IFNwYW4gPSBjb21wb25lbnRzLm1hcmtzW21hcmtUeXBlXSB8fCBjb21wb25lbnRzLnVua25vd25NYXJrO1xuICAgIGNvbnN0IGNoaWxkcmVuID0gbm9kZS5jaGlsZHJlbi5tYXAoKGNoaWxkLCBjaGlsZEluZGV4KSA9PiByZW5kZXJOb2RlKHtcbiAgICAgIG5vZGU6IGNoaWxkLFxuICAgICAgaW5kZXg6IGNoaWxkSW5kZXgsXG4gICAgICBpc0lubGluZTogdHJ1ZSxcbiAgICAgIHJlbmRlck5vZGVcbiAgICB9KSk7XG4gICAgaWYgKFNwYW4gPT09IGNvbXBvbmVudHMudW5rbm93bk1hcmspIHtcbiAgICAgIGhhbmRsZU1pc3NpbmdDb21wb25lbnQodW5rbm93bk1hcmtXYXJuaW5nKG1hcmtUeXBlKSwge1xuICAgICAgICBub2RlVHlwZTogXCJtYXJrXCIsXG4gICAgICAgIHR5cGU6IG1hcmtUeXBlXG4gICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChTcGFuLCB7XG4gICAgICB0ZXh0OiBzcGFuVG9QbGFpblRleHQobm9kZSksXG4gICAgICB2YWx1ZTogbWFya0RlZixcbiAgICAgIG1hcmtUeXBlLFxuICAgICAgbWFya0tleSxcbiAgICAgIHJlbmRlck5vZGUsXG4gICAgICBjaGlsZHJlblxuICAgIH0sIGtleSk7XG4gIH1cbiAgZnVuY3Rpb24gcmVuZGVyQmxvY2sobm9kZSwgaW5kZXgsIGtleSwgaXNJbmxpbmUpIHtcbiAgICBjb25zdCBfc2VyaWFsaXplQmxvY2sgPSBzZXJpYWxpemVCbG9jayh7XG4gICAgICAgIG5vZGUsXG4gICAgICAgIGluZGV4LFxuICAgICAgICBpc0lubGluZSxcbiAgICAgICAgcmVuZGVyTm9kZVxuICAgICAgfSksXG4gICAgICB7XG4gICAgICAgIF9rZXlcbiAgICAgIH0gPSBfc2VyaWFsaXplQmxvY2ssXG4gICAgICBwcm9wcyA9IF9vYmplY3RXaXRob3V0UHJvcGVydGllcyhfc2VyaWFsaXplQmxvY2ssIF9leGNsdWRlZDMpO1xuICAgIGNvbnN0IHN0eWxlID0gcHJvcHMubm9kZS5zdHlsZSB8fCBcIm5vcm1hbFwiO1xuICAgIGNvbnN0IGhhbmRsZXIgPSB0eXBlb2YgY29tcG9uZW50cy5ibG9jayA9PT0gXCJmdW5jdGlvblwiID8gY29tcG9uZW50cy5ibG9jayA6IGNvbXBvbmVudHMuYmxvY2tbc3R5bGVdO1xuICAgIGNvbnN0IEJsb2NrID0gaGFuZGxlciB8fCBjb21wb25lbnRzLnVua25vd25CbG9ja1N0eWxlO1xuICAgIGlmIChCbG9jayA9PT0gY29tcG9uZW50cy51bmtub3duQmxvY2tTdHlsZSkge1xuICAgICAgaGFuZGxlTWlzc2luZ0NvbXBvbmVudCh1bmtub3duQmxvY2tTdHlsZVdhcm5pbmcoc3R5bGUpLCB7XG4gICAgICAgIG5vZGVUeXBlOiBcImJsb2NrU3R5bGVcIixcbiAgICAgICAgdHlwZTogc3R5bGVcbiAgICAgIH0pO1xuICAgIH1cbiAgICByZXR1cm4gLyogQF9fUFVSRV9fICovanN4KEJsb2NrLCBfb2JqZWN0U3ByZWFkKF9vYmplY3RTcHJlYWQoe30sIHByb3BzKSwge30sIHtcbiAgICAgIHZhbHVlOiBwcm9wcy5ub2RlLFxuICAgICAgcmVuZGVyTm9kZVxuICAgIH0pLCBrZXkpO1xuICB9XG4gIGZ1bmN0aW9uIHJlbmRlclRleHQobm9kZSwga2V5KSB7XG4gICAgaWYgKG5vZGUudGV4dCA9PT0gXCJcXG5cIikge1xuICAgICAgY29uc3QgSGFyZEJyZWFrID0gY29tcG9uZW50cy5oYXJkQnJlYWs7XG4gICAgICByZXR1cm4gSGFyZEJyZWFrID8gLyogQF9fUFVSRV9fICovanN4KEhhcmRCcmVhaywge30sIGtleSkgOiBcIlxcblwiO1xuICAgIH1cbiAgICByZXR1cm4gbm9kZS50ZXh0O1xuICB9XG4gIGZ1bmN0aW9uIHJlbmRlclVua25vd25UeXBlKG5vZGUsIGluZGV4LCBrZXksIGlzSW5saW5lKSB7XG4gICAgY29uc3Qgbm9kZU9wdGlvbnMgPSB7XG4gICAgICB2YWx1ZTogbm9kZSxcbiAgICAgIGlzSW5saW5lLFxuICAgICAgaW5kZXgsXG4gICAgICByZW5kZXJOb2RlXG4gICAgfTtcbiAgICBoYW5kbGVNaXNzaW5nQ29tcG9uZW50KHVua25vd25UeXBlV2FybmluZyhub2RlLl90eXBlKSwge1xuICAgICAgbm9kZVR5cGU6IFwiYmxvY2tcIixcbiAgICAgIHR5cGU6IG5vZGUuX3R5cGVcbiAgICB9KTtcbiAgICBjb25zdCBVbmtub3duVHlwZSA9IGNvbXBvbmVudHMudW5rbm93blR5cGU7XG4gICAgcmV0dXJuIC8qIEBfX1BVUkVfXyAqL2pzeChVbmtub3duVHlwZSwgX29iamVjdFNwcmVhZCh7fSwgbm9kZU9wdGlvbnMpLCBrZXkpO1xuICB9XG4gIGZ1bmN0aW9uIHJlbmRlckN1c3RvbUJsb2NrKG5vZGUsIGluZGV4LCBrZXksIGlzSW5saW5lKSB7XG4gICAgY29uc3Qgbm9kZU9wdGlvbnMgPSB7XG4gICAgICB2YWx1ZTogbm9kZSxcbiAgICAgIGlzSW5saW5lLFxuICAgICAgaW5kZXgsXG4gICAgICByZW5kZXJOb2RlXG4gICAgfTtcbiAgICBjb25zdCBOb2RlID0gY29tcG9uZW50cy50eXBlc1tub2RlLl90eXBlXTtcbiAgICByZXR1cm4gTm9kZSA/IC8qIEBfX1BVUkVfXyAqL2pzeChOb2RlLCBfb2JqZWN0U3ByZWFkKHt9LCBub2RlT3B0aW9ucyksIGtleSkgOiBudWxsO1xuICB9XG4gIHJldHVybiByZW5kZXJOb2RlO1xufTtcbmZ1bmN0aW9uIHNlcmlhbGl6ZUJsb2NrKG9wdGlvbnMpIHtcbiAgY29uc3Qge1xuICAgIG5vZGUsXG4gICAgaW5kZXgsXG4gICAgaXNJbmxpbmUsXG4gICAgcmVuZGVyTm9kZVxuICB9ID0gb3B0aW9ucztcbiAgY29uc3QgdHJlZSA9IGJ1aWxkTWFya3NUcmVlKG5vZGUpO1xuICBjb25zdCBjaGlsZHJlbiA9IHRyZWUubWFwKChjaGlsZCwgaSkgPT4gcmVuZGVyTm9kZSh7XG4gICAgbm9kZTogY2hpbGQsXG4gICAgaXNJbmxpbmU6IHRydWUsXG4gICAgaW5kZXg6IGksXG4gICAgcmVuZGVyTm9kZVxuICB9KSk7XG4gIHJldHVybiB7XG4gICAgX2tleTogbm9kZS5fa2V5IHx8IFwiYmxvY2stXCIuY29uY2F0KGluZGV4KSxcbiAgICBjaGlsZHJlbixcbiAgICBpbmRleCxcbiAgICBpc0lubGluZSxcbiAgICBub2RlXG4gIH07XG59XG5mdW5jdGlvbiBub29wKCkge31cbmV4cG9ydCB7IFBvcnRhYmxlVGV4dCwgZGVmYXVsdENvbXBvbmVudHMsIG1lcmdlQ29tcG9uZW50cyB9O1xuLy8jIHNvdXJjZU1hcHBpbmdVUkw9aW5kZXguanMubWFwXG4iXSwibmFtZXMiOlsiX2V4Y2x1ZGVkIiwiX2V4Y2x1ZGVkMiIsIl9leGNsdWRlZDMiLCJvd25LZXlzIiwiZSIsInIiLCJ0IiwiT2JqZWN0Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm8iLCJmaWx0ZXIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlZmluZVByb3BlcnR5Iiwib2JqIiwia2V5IiwidmFsdWUiLCJfdG9Qcm9wZXJ0eUtleSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiYXJnIiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiaW5wdXQiLCJoaW50IiwicHJpbSIsIlN5bWJvbCIsInRvUHJpbWl0aXZlIiwidW5kZWZpbmVkIiwicmVzIiwiY2FsbCIsIlR5cGVFcnJvciIsIk51bWJlciIsIl9vYmplY3RXaXRob3V0UHJvcGVydGllcyIsInNvdXJjZSIsImV4Y2x1ZGVkIiwidGFyZ2V0IiwiX29iamVjdFdpdGhvdXRQcm9wZXJ0aWVzTG9vc2UiLCJpIiwic291cmNlU3ltYm9sS2V5cyIsImluZGV4T2YiLCJwcm90b3R5cGUiLCJwcm9wZXJ0eUlzRW51bWVyYWJsZSIsInNvdXJjZUtleXMiLCJuZXN0TGlzdHMiLCJMSVNUX05FU1RfTU9ERV9IVE1MIiwiaXNQb3J0YWJsZVRleHRUb29sa2l0TGlzdCIsImlzUG9ydGFibGVUZXh0TGlzdEl0ZW1CbG9jayIsImlzUG9ydGFibGVUZXh0VG9vbGtpdFNwYW4iLCJpc1BvcnRhYmxlVGV4dEJsb2NrIiwiaXNQb3J0YWJsZVRleHRUb29sa2l0VGV4dE5vZGUiLCJzcGFuVG9QbGFpblRleHQiLCJidWlsZE1hcmtzVHJlZSIsInRvUGxhaW5UZXh0IiwianN4IiwiRnJhZ21lbnQiLCJ1c2VNZW1vIiwibWVyZ2VDb21wb25lbnRzIiwicGFyZW50Iiwib3ZlcnJpZGVzIiwiYmxvY2siLCJsaXN0IiwibGlzdEl0ZW0iLCJtYXJrcyIsInR5cGVzIiwicmVzdCIsIm1lcmdlRGVlcGx5Iiwib3ZlcnJpZGUiLCJwYXJlbnRWYWwiLCJsaW5rIiwiX3JlZiIsImNoaWxkcmVuIiwiaHJlZiIsInVuZGVybGluZVN0eWxlIiwidGV4dERlY29yYXRpb24iLCJkZWZhdWx0TWFya3MiLCJlbSIsIl9yZWYyIiwic3Ryb25nIiwiX3JlZjMiLCJjb2RlIiwiX3JlZjQiLCJ1bmRlcmxpbmUiLCJfcmVmNSIsInN0eWxlIiwiX3JlZjYiLCJkZWZhdWx0TGlzdHMiLCJudW1iZXIiLCJfcmVmNyIsImJ1bGxldCIsIl9yZWY4IiwiRGVmYXVsdExpc3RJdGVtIiwiX3JlZjkiLCJnZXRUZW1wbGF0ZSIsInR5cGUiLCJwcm9wIiwiY29uY2F0IiwidW5rbm93blR5cGVXYXJuaW5nIiwidHlwZU5hbWUiLCJ1bmtub3duTWFya1dhcm5pbmciLCJtYXJrVHlwZSIsInVua25vd25CbG9ja1N0eWxlV2FybmluZyIsImJsb2NrU3R5bGUiLCJ1bmtub3duTGlzdFN0eWxlV2FybmluZyIsImxpc3RTdHlsZSIsInVua25vd25MaXN0SXRlbVN0eWxlV2FybmluZyIsInByaW50V2FybmluZyIsIm1lc3NhZ2UiLCJjb25zb2xlIiwid2FybiIsImhpZGRlbiIsImRpc3BsYXkiLCJEZWZhdWx0VW5rbm93blR5cGUiLCJfcmVmMTAiLCJpc0lubGluZSIsIndhcm5pbmciLCJfdHlwZSIsIkRlZmF1bHRVbmtub3duTWFyayIsIl9yZWYxMSIsImNsYXNzTmFtZSIsIkRlZmF1bHRVbmtub3duQmxvY2tTdHlsZSIsIl9yZWYxMiIsIkRlZmF1bHRVbmtub3duTGlzdCIsIl9yZWYxMyIsIkRlZmF1bHRVbmtub3duTGlzdEl0ZW0iLCJfcmVmMTQiLCJEZWZhdWx0SGFyZEJyZWFrIiwiZGVmYXVsdEJsb2NrU3R5bGVzIiwibm9ybWFsIiwiX3JlZjE1IiwiYmxvY2txdW90ZSIsIl9yZWYxNiIsImgxIiwiX3JlZjE3IiwiaDIiLCJfcmVmMTgiLCJoMyIsIl9yZWYxOSIsImg0IiwiX3JlZjIwIiwiaDUiLCJfcmVmMjEiLCJoNiIsIl9yZWYyMiIsImRlZmF1bHRDb21wb25lbnRzIiwiaGFyZEJyZWFrIiwidW5rbm93blR5cGUiLCJ1bmtub3duTWFyayIsInVua25vd25MaXN0IiwidW5rbm93bkxpc3RJdGVtIiwidW5rbm93bkJsb2NrU3R5bGUiLCJQb3J0YWJsZVRleHQiLCJfcmVmMjMiLCJjb21wb25lbnRzIiwiY29tcG9uZW50T3ZlcnJpZGVzIiwibGlzdE5lc3RpbmdNb2RlIiwib25NaXNzaW5nQ29tcG9uZW50IiwibWlzc2luZ0NvbXBvbmVudEhhbmRsZXIiLCJoYW5kbGVNaXNzaW5nQ29tcG9uZW50Iiwibm9vcCIsImJsb2NrcyIsIkFycmF5IiwiaXNBcnJheSIsIm5lc3RlZCIsInJlbmRlck5vZGUiLCJnZXROb2RlUmVuZGVyZXIiLCJyZW5kZXJlZCIsIm1hcCIsIm5vZGUiLCJpbmRleCIsIm9wdGlvbnMiLCJfa2V5IiwicmVuZGVyTGlzdCIsInJlbmRlckxpc3RJdGVtIiwicmVuZGVyU3BhbiIsImhhc0N1c3RvbUNvbXBvbmVudEZvck5vZGUiLCJyZW5kZXJDdXN0b21CbG9jayIsInJlbmRlckJsb2NrIiwicmVuZGVyVGV4dCIsInJlbmRlclVua25vd25UeXBlIiwidHJlZSIsInNlcmlhbGl6ZUJsb2NrIiwicmVuZGVyZXIiLCJoYW5kbGVyIiwiTGkiLCJub2RlVHlwZSIsImJsb2NrTm9kZSIsImNoaWxkIiwiY2hpbGRJbmRleCIsImNvbXBvbmVudCIsIkxpc3QiLCJfaW5kZXgiLCJtYXJrRGVmIiwibWFya0tleSIsIlNwYW4iLCJ0ZXh0IiwiX3NlcmlhbGl6ZUJsb2NrIiwicHJvcHMiLCJCbG9jayIsIkhhcmRCcmVhayIsIm5vZGVPcHRpb25zIiwiVW5rbm93blR5cGUiLCJOb2RlIl0sInNvdXJjZVJvb3QiOiIifQ==\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@portabletext/react/dist/index.js\n"));

/***/ }),

/***/ "(app-pages-browser)/./node_modules/@portabletext/toolkit/dist/index.js":
/*!**********************************************************!*\
  !*** ./node_modules/@portabletext/toolkit/dist/index.js ***!
  \**********************************************************/
/***/ (function(__unused_webpack___webpack_module__, __webpack_exports__, __webpack_require__) {

eval(__webpack_require__.ts("__webpack_require__.r(__webpack_exports__);\n/* harmony export */ __webpack_require__.d(__webpack_exports__, {\n/* harmony export */   LIST_NEST_MODE_DIRECT: function() { return /* binding */ LIST_NEST_MODE_DIRECT; },\n/* harmony export */   LIST_NEST_MODE_HTML: function() { return /* binding */ LIST_NEST_MODE_HTML; },\n/* harmony export */   buildMarksTree: function() { return /* binding */ buildMarksTree; },\n/* harmony export */   isPortableTextBlock: function() { return /* binding */ isPortableTextBlock; },\n/* harmony export */   isPortableTextListItemBlock: function() { return /* binding */ isPortableTextListItemBlock; },\n/* harmony export */   isPortableTextSpan: function() { return /* binding */ isPortableTextSpan; },\n/* harmony export */   isPortableTextToolkitList: function() { return /* binding */ isPortableTextToolkitList; },\n/* harmony export */   isPortableTextToolkitSpan: function() { return /* binding */ isPortableTextToolkitSpan; },\n/* harmony export */   isPortableTextToolkitTextNode: function() { return /* binding */ isPortableTextToolkitTextNode; },\n/* harmony export */   nestLists: function() { return /* binding */ nestLists; },\n/* harmony export */   sortMarksByOccurences: function() { return /* binding */ sortMarksByOccurences; },\n/* harmony export */   spanToPlainText: function() { return /* binding */ spanToPlainText; },\n/* harmony export */   toPlainText: function() { return /* binding */ toPlainText; }\n/* harmony export */ });\nfunction ownKeys(e, r) {\n    var t = Object.keys(e);\n    if (Object.getOwnPropertySymbols) {\n        var o = Object.getOwnPropertySymbols(e);\n        r && (o = o.filter(function(r) {\n            return Object.getOwnPropertyDescriptor(e, r).enumerable;\n        })), t.push.apply(t, o);\n    }\n    return t;\n}\nfunction _objectSpread(e) {\n    for(var r = 1; r < arguments.length; r++){\n        var t = null != arguments[r] ? arguments[r] : {};\n        r % 2 ? ownKeys(Object(t), !0).forEach(function(r) {\n            _defineProperty(e, r, t[r]);\n        }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(e, Object.getOwnPropertyDescriptors(t)) : ownKeys(Object(t)).forEach(function(r) {\n            Object.defineProperty(e, r, Object.getOwnPropertyDescriptor(t, r));\n        });\n    }\n    return e;\n}\nfunction _defineProperty(obj, key, value) {\n    key = _toPropertyKey(key);\n    if (key in obj) {\n        Object.defineProperty(obj, key, {\n            value: value,\n            enumerable: true,\n            configurable: true,\n            writable: true\n        });\n    } else {\n        obj[key] = value;\n    }\n    return obj;\n}\nfunction _toPropertyKey(arg) {\n    var key = _toPrimitive(arg, \"string\");\n    return typeof key === \"symbol\" ? key : String(key);\n}\nfunction _toPrimitive(input, hint) {\n    if (typeof input !== \"object\" || input === null) return input;\n    var prim = input[Symbol.toPrimitive];\n    if (prim !== undefined) {\n        var res = prim.call(input, hint || \"default\");\n        if (typeof res !== \"object\") return res;\n        throw new TypeError(\"@@toPrimitive must return a primitive value.\");\n    }\n    return (hint === \"string\" ? String : Number)(input);\n}\nfunction isPortableTextSpan(node) {\n    return node._type === \"span\" && \"text\" in node && typeof node.text === \"string\" && (typeof node.marks === \"undefined\" || Array.isArray(node.marks) && node.marks.every((mark)=>typeof mark === \"string\"));\n}\nfunction isPortableTextBlock(node) {\n    return(// A block doesn't _have_ to be named 'block' - to differentiate between\n    // allowed child types and marks, one might name them differently\n    typeof node._type === \"string\" && // Toolkit-types like nested spans are @-prefixed\n    node._type[0] !== \"@\" && // `markDefs` isn't _required_ per say, but if it's there, it needs to be an array\n    (!(\"markDefs\" in node) || !node.markDefs || Array.isArray(node.markDefs) && // Every mark definition needs to have an `_key` to be mappable in child spans\n    node.markDefs.every((def)=>typeof def._key === \"string\")) && // `children` is required and needs to be an array\n    \"children\" in node && Array.isArray(node.children) && // All children are objects with `_type` (usually spans, but can contain other stuff)\n    node.children.every((child)=>typeof child === \"object\" && \"_type\" in child));\n}\nfunction isPortableTextListItemBlock(block) {\n    return isPortableTextBlock(block) && \"listItem\" in block && typeof block.listItem === \"string\" && (typeof block.level === \"undefined\" || typeof block.level === \"number\");\n}\nfunction isPortableTextToolkitList(block) {\n    return block._type === \"@list\";\n}\nfunction isPortableTextToolkitSpan(span) {\n    return span._type === \"@span\";\n}\nfunction isPortableTextToolkitTextNode(node) {\n    return node._type === \"@text\";\n}\nconst knownDecorators = [\n    \"strong\",\n    \"em\",\n    \"code\",\n    \"underline\",\n    \"strike-through\"\n];\nfunction sortMarksByOccurences(span, index, blockChildren) {\n    if (!isPortableTextSpan(span) || !span.marks) {\n        return [];\n    }\n    if (!span.marks.length) {\n        return [];\n    }\n    const marks = span.marks.slice();\n    const occurences = {};\n    marks.forEach((mark)=>{\n        occurences[mark] = 1;\n        for(let siblingIndex = index + 1; siblingIndex < blockChildren.length; siblingIndex++){\n            const sibling = blockChildren[siblingIndex];\n            if (sibling && isPortableTextSpan(sibling) && Array.isArray(sibling.marks) && sibling.marks.indexOf(mark) !== -1) {\n                occurences[mark]++;\n            } else {\n                break;\n            }\n        }\n    });\n    return marks.sort((markA, markB)=>sortMarks(occurences, markA, markB));\n}\nfunction sortMarks(occurences, markA, markB) {\n    const aOccurences = occurences[markA];\n    const bOccurences = occurences[markB];\n    if (aOccurences !== bOccurences) {\n        return bOccurences - aOccurences;\n    }\n    const aKnownPos = knownDecorators.indexOf(markA);\n    const bKnownPos = knownDecorators.indexOf(markB);\n    if (aKnownPos !== bKnownPos) {\n        return aKnownPos - bKnownPos;\n    }\n    return markA.localeCompare(markB);\n}\nfunction buildMarksTree(block) {\n    var _a;\n    const { children, markDefs = [] } = block;\n    if (!children || !children.length) {\n        return [];\n    }\n    const sortedMarks = children.map(sortMarksByOccurences);\n    const rootNode = {\n        _type: \"@span\",\n        children: [],\n        markType: \"<unknown>\"\n    };\n    let nodeStack = [\n        rootNode\n    ];\n    for(let i = 0; i < children.length; i++){\n        const span = children[i];\n        if (!span) {\n            continue;\n        }\n        const marksNeeded = sortedMarks[i] || [];\n        let pos = 1;\n        if (nodeStack.length > 1) {\n            for(pos; pos < nodeStack.length; pos++){\n                const mark = ((_a = nodeStack[pos]) == null ? void 0 : _a.markKey) || \"\";\n                const index = marksNeeded.indexOf(mark);\n                if (index === -1) {\n                    break;\n                }\n                marksNeeded.splice(index, 1);\n            }\n        }\n        nodeStack = nodeStack.slice(0, pos);\n        let currentNode = nodeStack[nodeStack.length - 1];\n        if (!currentNode) {\n            continue;\n        }\n        for (const markKey of marksNeeded){\n            const markDef = markDefs.find((def)=>def._key === markKey);\n            const markType = markDef ? markDef._type : markKey;\n            const node = {\n                _type: \"@span\",\n                _key: span._key,\n                children: [],\n                markDef,\n                markType,\n                markKey\n            };\n            currentNode.children.push(node);\n            nodeStack.push(node);\n            currentNode = node;\n        }\n        if (isPortableTextSpan(span)) {\n            const lines = span.text.split(\"\\n\");\n            for(let line = lines.length; line-- > 1;){\n                lines.splice(line, 0, \"\\n\");\n            }\n            currentNode.children = currentNode.children.concat(lines.map((text)=>({\n                    _type: \"@text\",\n                    text\n                })));\n        } else {\n            currentNode.children = currentNode.children.concat(span);\n        }\n    }\n    return rootNode.children;\n}\nfunction nestLists(blocks, mode) {\n    const tree = [];\n    let currentList;\n    for(let i = 0; i < blocks.length; i++){\n        const block = blocks[i];\n        if (!block) {\n            continue;\n        }\n        if (!isPortableTextListItemBlock(block)) {\n            tree.push(block);\n            currentList = void 0;\n            continue;\n        }\n        if (!currentList) {\n            currentList = listFromBlock(block, i, mode);\n            tree.push(currentList);\n            continue;\n        }\n        if (blockMatchesList(block, currentList)) {\n            currentList.children.push(block);\n            continue;\n        }\n        if ((block.level || 1) > currentList.level) {\n            const newList = listFromBlock(block, i, mode);\n            if (mode === \"html\") {\n                const lastListItem = currentList.children[currentList.children.length - 1];\n                const newLastChild = _objectSpread(_objectSpread({}, lastListItem), {}, {\n                    children: [\n                        ...lastListItem.children,\n                        newList\n                    ]\n                });\n                currentList.children[currentList.children.length - 1] = newLastChild;\n            } else {\n                currentList.children.push(newList);\n            }\n            currentList = newList;\n            continue;\n        }\n        if ((block.level || 1) < currentList.level) {\n            const matchingBranch = tree[tree.length - 1];\n            const match = matchingBranch && findListMatching(matchingBranch, block);\n            if (match) {\n                currentList = match;\n                currentList.children.push(block);\n                continue;\n            }\n            currentList = listFromBlock(block, i, mode);\n            tree.push(currentList);\n            continue;\n        }\n        if (block.listItem !== currentList.listItem) {\n            const matchingBranch = tree[tree.length - 1];\n            const match = matchingBranch && findListMatching(matchingBranch, {\n                level: block.level || 1\n            });\n            if (match && match.listItem === block.listItem) {\n                currentList = match;\n                currentList.children.push(block);\n                continue;\n            } else {\n                currentList = listFromBlock(block, i, mode);\n                tree.push(currentList);\n                continue;\n            }\n        }\n        console.warn(\"Unknown state encountered for block\", block);\n        tree.push(block);\n    }\n    return tree;\n}\nfunction blockMatchesList(block, list) {\n    return (block.level || 1) === list.level && block.listItem === list.listItem;\n}\nfunction listFromBlock(block, index, mode) {\n    return {\n        _type: \"@list\",\n        _key: \"\".concat(block._key || \"\".concat(index), \"-parent\"),\n        mode,\n        level: block.level || 1,\n        listItem: block.listItem,\n        children: [\n            block\n        ]\n    };\n}\nfunction findListMatching(rootNode, matching) {\n    const level = matching.level || 1;\n    const style = matching.listItem || \"normal\";\n    const filterOnType = typeof matching.listItem === \"string\";\n    if (isPortableTextToolkitList(rootNode) && (rootNode.level || 1) === level && filterOnType && (rootNode.listItem || \"normal\") === style) {\n        return rootNode;\n    }\n    if (!(\"children\" in rootNode)) {\n        return void 0;\n    }\n    const node = rootNode.children[rootNode.children.length - 1];\n    return node && !isPortableTextSpan(node) ? findListMatching(node, matching) : void 0;\n}\nconst leadingSpace = /^\\s/;\nconst trailingSpace = /^\\s/;\nfunction toPlainText(block) {\n    const blocks = Array.isArray(block) ? block : [\n        block\n    ];\n    let text = \"\";\n    blocks.forEach((current, index)=>{\n        if (!isPortableTextBlock(current)) {\n            return;\n        }\n        let pad = false;\n        current.children.forEach((span)=>{\n            if (isPortableTextSpan(span)) {\n                text += pad && text && !trailingSpace.test(text) && !leadingSpace.test(span.text) ? \" \" : \"\";\n                text += span.text;\n                pad = false;\n            } else {\n                pad = true;\n            }\n        });\n        if (index !== blocks.length - 1) {\n            text += \"\\n\\n\";\n        }\n    });\n    return text;\n}\nfunction spanToPlainText(span) {\n    let text = \"\";\n    span.children.forEach((current)=>{\n        if (isPortableTextToolkitTextNode(current)) {\n            text += current.text;\n        } else if (isPortableTextToolkitSpan(current)) {\n            text += spanToPlainText(current);\n        }\n    });\n    return text;\n}\nconst LIST_NEST_MODE_HTML = \"html\";\nconst LIST_NEST_MODE_DIRECT = \"direct\";\n //# sourceMappingURL=index.js.map\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiKGFwcC1wYWdlcy1icm93c2VyKS8uL25vZGVfbW9kdWxlcy9AcG9ydGFibGV0ZXh0L3Rvb2xraXQvZGlzdC9pbmRleC5qcyIsIm1hcHBpbmdzIjoiOzs7Ozs7Ozs7Ozs7Ozs7O0FBQUEsU0FBU0EsUUFBUUMsQ0FBQyxFQUFFQyxDQUFDO0lBQUksSUFBSUMsSUFBSUMsT0FBT0MsSUFBSSxDQUFDSjtJQUFJLElBQUlHLE9BQU9FLHFCQUFxQixFQUFFO1FBQUUsSUFBSUMsSUFBSUgsT0FBT0UscUJBQXFCLENBQUNMO1FBQUlDLEtBQU1LLENBQUFBLElBQUlBLEVBQUVDLE1BQU0sQ0FBQyxTQUFVTixDQUFDO1lBQUksT0FBT0UsT0FBT0ssd0JBQXdCLENBQUNSLEdBQUdDLEdBQUdRLFVBQVU7UUFBRSxFQUFDLEdBQUlQLEVBQUVRLElBQUksQ0FBQ0MsS0FBSyxDQUFDVCxHQUFHSTtJQUFJO0lBQUUsT0FBT0o7QUFBRztBQUM5UCxTQUFTVSxjQUFjWixDQUFDO0lBQUksSUFBSyxJQUFJQyxJQUFJLEdBQUdBLElBQUlZLFVBQVVDLE1BQU0sRUFBRWIsSUFBSztRQUFFLElBQUlDLElBQUksUUFBUVcsU0FBUyxDQUFDWixFQUFFLEdBQUdZLFNBQVMsQ0FBQ1osRUFBRSxHQUFHLENBQUM7UUFBR0EsSUFBSSxJQUFJRixRQUFRSSxPQUFPRCxJQUFJLENBQUMsR0FBR2EsT0FBTyxDQUFDLFNBQVVkLENBQUM7WUFBSWUsZ0JBQWdCaEIsR0FBR0MsR0FBR0MsQ0FBQyxDQUFDRCxFQUFFO1FBQUcsS0FBS0UsT0FBT2MseUJBQXlCLEdBQUdkLE9BQU9lLGdCQUFnQixDQUFDbEIsR0FBR0csT0FBT2MseUJBQXlCLENBQUNmLE1BQU1ILFFBQVFJLE9BQU9ELElBQUlhLE9BQU8sQ0FBQyxTQUFVZCxDQUFDO1lBQUlFLE9BQU9nQixjQUFjLENBQUNuQixHQUFHQyxHQUFHRSxPQUFPSyx3QkFBd0IsQ0FBQ04sR0FBR0Q7UUFBSztJQUFJO0lBQUUsT0FBT0Q7QUFBRztBQUN0YixTQUFTZ0Is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Q1I7UUFDRjtRQUNBLElBQUkxRCxVQUFVb0MsT0FBT3RGLE1BQU0sR0FBRyxHQUFHO1lBQy9CNEIsUUFBUTtRQUNWO0lBQ0Y7SUFDQSxPQUFPQTtBQUNUO0FBQ0EsU0FBU2tGLGdCQUFnQmhFLElBQUk7SUFDM0IsSUFBSWxCLE9BQU87SUFDWGtCLEtBQUtSLFFBQVEsQ0FBQ3JDLE9BQU8sQ0FBQzBHLENBQUFBO1FBQ3BCLElBQUk1RCw4QkFBOEI0RCxVQUFVO1lBQzFDL0UsUUFBUStFLFFBQVEvRSxJQUFJO1FBQ3RCLE9BQU8sSUFBSWlCLDBCQUEwQjhELFVBQVU7WUFDN0MvRSxRQUFRa0YsZ0JBQWdCSDtRQUMxQjtJQUNGO0lBQ0EsT0FBTy9FO0FBQ1Q7QUFDQSxNQUFNbUYsc0JBQXNCO0FBQzVCLE1BQU1DLHdCQUF3QjtBQUNtUSxDQUNqUyxpQ0FBaUMiLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly9fTl9FLy4vbm9kZV9tb2R1bGVzL0Bwb3J0YWJsZXRleHQvdG9vbGtpdC9kaXN0L2luZGV4LmpzP2IwNGMiXSwic291cmNlc0NvbnRlbnQiOlsiZnVuY3Rpb24gb3duS2V5cyhlLCByKSB7IHZhciB0ID0gT2JqZWN0LmtleXMoZSk7IGlmIChPYmplY3QuZ2V0T3duUHJvcGVydHlTeW1ib2xzKSB7IHZhciBvID0gT2JqZWN0LmdldE93blByb3BlcnR5U3ltYm9scyhlKTsgciAmJiAobyA9IG8uZmlsdGVyKGZ1bmN0aW9uIChyKSB7IHJldHVybiBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9yKGUsIHIpLmVudW1lcmFibGU7IH0pKSwgdC5wdXNoLmFwcGx5KHQsIG8pOyB9IHJldHVybiB0OyB9XG5mdW5jdGlvbiBfb2JqZWN0U3ByZWFkKGUpIHsgZm9yICh2YXIgciA9IDE7IHIgPCBhcmd1bWVudHMubGVuZ3RoOyByKyspIHsgdmFyIHQgPSBudWxsICE9IGFyZ3VtZW50c1tyXSA/IGFyZ3VtZW50c1tyXSA6IHt9OyByICUgMiA/IG93bktleXMoT2JqZWN0KHQpLCAhMCkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBfZGVmaW5lUHJvcGVydHkoZSwgciwgdFtyXSk7IH0pIDogT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcnMgPyBPYmplY3QuZGVmaW5lUHJvcGVydGllcyhlLCBPYmplY3QuZ2V0T3duUHJvcGVydHlEZXNjcmlwdG9ycyh0KSkgOiBvd25LZXlzKE9iamVjdCh0KSkuZm9yRWFjaChmdW5jdGlvbiAocikgeyBPYmplY3QuZGVmaW5lUHJvcGVydHkoZSwgciwgT2JqZWN0LmdldE93blByb3BlcnR5RGVzY3JpcHRvcih0LCByKSk7IH0pOyB9IHJldHVybiBlOyB9XG5mdW5jdGlvbiBfZGVmaW5lUHJvcGVydHkob2JqLCBrZXksIHZhbHVlKSB7IGtleSA9IF90b1Byb3BlcnR5S2V5KGtleSk7IGlmIChrZXkgaW4gb2JqKSB7IE9iamVjdC5kZWZpbmVQcm9wZXJ0eShvYmosIGtleSwgeyB2YWx1ZTogdmFsdWUsIGVudW1lcmFibGU6IHRydWUsIGNvbmZpZ3VyYWJsZTogdHJ1ZSwgd3JpdGFibGU6IHRydWUgfSk7IH0gZWxzZSB7IG9ialtrZXldID0gdmFsdWU7IH0gcmV0dXJuIG9iajsgfVxuZnVuY3Rpb24gX3RvUHJvcGVydHlLZXkoYXJnKSB7IHZhciBrZXkgPSBfdG9QcmltaXRpdmUoYXJnLCBcInN0cmluZ1wiKTsgcmV0dXJuIHR5cGVvZiBrZXkgPT09IFwic3ltYm9sXCIgPyBrZXkgOiBTdHJpbmcoa2V5KTsgfVxuZnVuY3Rpb24gX3RvUHJpbWl0aXZlKGlucHV0LCBoaW50KSB7IGlmICh0eXBlb2YgaW5wdXQgIT09IFwib2JqZWN0XCIgfHwgaW5wdXQgPT09IG51bGwpIHJldHVybiBpbnB1dDsgdmFyIHByaW0gPSBpbnB1dFtTeW1ib2wudG9QcmltaXRpdmVdOyBpZiAocHJpbSAhPT0gdW5kZWZpbmVkKSB7IHZhciByZXMgPSBwcmltLmNhbGwoaW5wdXQsIGhpbnQgfHwgXCJkZWZhdWx0XCIpOyBpZiAodHlwZW9mIHJlcyAhPT0gXCJvYmplY3RcIikgcmV0dXJuIHJlczsgdGhyb3cgbmV3IFR5cGVFcnJvcihcIkBAdG9QcmltaXRpdmUgbXVzdCByZXR1cm4gYSBwcmltaXRpdmUgdmFsdWUuXCIpOyB9IHJldHVybiAoaGludCA9PT0gXCJzdHJpbmdcIiA/IFN0cmluZyA6IE51bWJlcikoaW5wdXQpOyB9XG5mdW5jdGlvbiBpc1BvcnRhYmxlVGV4dFNwYW4obm9kZSkge1xuICByZXR1cm4gbm9kZS5fdHlwZSA9PT0gXCJzcGFuXCIgJiYgXCJ0ZXh0XCIgaW4gbm9kZSAmJiB0eXBlb2Ygbm9kZS50ZXh0ID09PSBcInN0cmluZ1wiICYmICh0eXBlb2Ygbm9kZS5tYXJrcyA9PT0gXCJ1bmRlZmluZWRcIiB8fCBBcnJheS5pc0FycmF5KG5vZGUubWFya3MpICYmIG5vZGUubWFya3MuZXZlcnkobWFyayA9PiB0eXBlb2YgbWFyayA9PT0gXCJzdHJpbmdcIikpO1xufVxuZnVuY3Rpb24gaXNQb3J0YWJsZVRleHRCbG9jayhub2RlKSB7XG4gIHJldHVybiAoXG4gICAgLy8gQSBibG9jayBkb2Vzbid0IF9oYXZlXyB0byBiZSBuYW1lZCAnYmxvY2snIC0gdG8gZGlmZmVyZW50aWF0ZSBiZXR3ZWVuXG4gICAgLy8gYWxsb3dlZCBjaGlsZCB0eXBlcyBhbmQgbWFya3MsIG9uZSBtaWdodCBuYW1lIHRoZW0gZGlmZmVyZW50bHlcbiAgICB0eXBlb2Ygbm9kZS5fdHlwZSA9PT0gXCJzdHJpbmdcIiAmJlxuICAgIC8vIFRvb2xraXQtdHlwZXMgbGlrZSBuZXN0ZWQgc3BhbnMgYXJlIEAtcHJlZml4ZWRcbiAgICBub2RlLl90eXBlWzBdICE9PSBcIkBcIiAmJiAoXG4gICAgLy8gYG1hcmtEZWZzYCBpc24ndCBfcmVxdWlyZWRfIHBlciBzYXksIGJ1dCBpZiBpdCdzIHRoZXJlLCBpdCBuZWVkcyB0byBiZSBhbiBhcnJheVxuICAgICEoXCJtYXJrRGVmc1wiIGluIG5vZGUpIHx8ICFub2RlLm1hcmtEZWZzIHx8IEFycmF5LmlzQXJyYXkobm9kZS5tYXJrRGVmcykgJiZcbiAgICAvLyBFdmVyeSBtYXJrIGRlZmluaXRpb24gbmVlZHMgdG8gaGF2ZSBhbiBgX2tleWAgdG8gYmUgbWFwcGFibGUgaW4gY2hpbGQgc3BhbnNcbiAgICBub2RlLm1hcmtEZWZzLmV2ZXJ5KGRlZiA9PiB0eXBlb2YgZGVmLl9rZXkgPT09IFwic3RyaW5nXCIpKSAmJlxuICAgIC8vIGBjaGlsZHJlbmAgaXMgcmVxdWlyZWQgYW5kIG5lZWRzIHRvIGJlIGFuIGFycmF5XG4gICAgXCJjaGlsZHJlblwiIGluIG5vZGUgJiYgQXJyYXkuaXNBcnJheShub2RlLmNoaWxkcmVuKSAmJlxuICAgIC8vIEFsbCBjaGlsZHJlbiBhcmUgb2JqZWN0cyB3aXRoIGBfdHlwZWAgKHVzdWFsbHkgc3BhbnMsIGJ1dCBjYW4gY29udGFpbiBvdGhlciBzdHVmZilcbiAgICBub2RlLmNoaWxkcmVuLmV2ZXJ5KGNoaWxkID0+IHR5cGVvZiBjaGlsZCA9PT0gXCJvYmplY3RcIiAmJiBcIl90eXBlXCIgaW4gY2hpbGQpXG4gICk7XG59XG5mdW5jdGlvbiBpc1BvcnRhYmxlVGV4dExpc3RJdGVtQmxvY2soYmxvY2spIHtcbiAgcmV0dXJuIGlzUG9ydGFibGVUZXh0QmxvY2soYmxvY2spICYmIFwibGlzdEl0ZW1cIiBpbiBibG9jayAmJiB0eXBlb2YgYmxvY2subGlzdEl0ZW0gPT09IFwic3RyaW5nXCIgJiYgKHR5cGVvZiBibG9jay5sZXZlbCA9PT0gXCJ1bmRlZmluZWRcIiB8fCB0eXBlb2YgYmxvY2subGV2ZWwgPT09IFwibnVtYmVyXCIpO1xufVxuZnVuY3Rpb24gaXNQb3J0YWJsZVRleHRUb29sa2l0TGlzdChibG9jaykge1xuICByZXR1cm4gYmxvY2suX3R5cGUgPT09IFwiQGxpc3RcIjtcbn1cbmZ1bmN0aW9uIGlzUG9ydGFibGVUZXh0VG9vbGtpdFNwYW4oc3Bhbikge1xuICByZXR1cm4gc3Bhbi5fdHlwZSA9PT0gXCJAc3BhblwiO1xufVxuZnVuY3Rpb24gaXNQb3J0YWJsZVRleHRUb29sa2l0VGV4dE5vZGUobm9kZSkge1xuICByZXR1cm4gbm9kZS5fdHlwZSA9PT0gXCJAdGV4dFwiO1xufVxuY29uc3Qga25vd25EZWNvcmF0b3JzID0gW1wic3Ryb25nXCIsIFwiZW1cIiwgXCJjb2RlXCIsIFwidW5kZXJsaW5lXCIsIFwic3RyaWtlLXRocm91Z2hcIl07XG5mdW5jdGlvbiBzb3J0TWFya3NCeU9jY3VyZW5jZXMoc3BhbiwgaW5kZXgsIGJsb2NrQ2hpbGRyZW4pIHtcbiAgaWYgKCFpc1BvcnRhYmxlVGV4dFNwYW4oc3BhbikgfHwgIXNwYW4ubWFya3MpIHtcbiAgICByZXR1cm4gW107XG4gIH1cbiAgaWYgKCFzcGFuLm1hcmtzLmxlbmd0aCkge1xuICAgIHJldHVybiBbXTtcbiAgfVxuICBjb25zdCBtYXJrcyA9IHNwYW4ubWFya3Muc2xpY2UoKTtcbiAgY29uc3Qgb2NjdXJlbmNlcyA9IHt9O1xuICBtYXJrcy5mb3JFYWNoKG1hcmsgPT4ge1xuICAgIG9jY3VyZW5jZXNbbWFya10gPSAxO1xuICAgIGZvciAobGV0IHNpYmxpbmdJbmRleCA9IGluZGV4ICsgMTsgc2libGluZ0luZGV4IDwgYmxvY2tDaGlsZHJlbi5sZW5ndGg7IHNpYmxpbmdJbmRleCsrKSB7XG4gICAgICBjb25zdCBzaWJsaW5nID0gYmxvY2tDaGlsZHJlbltzaWJsaW5nSW5kZXhdO1xuICAgICAgaWYgKHNpYmxpbmcgJiYgaXNQb3J0YWJsZVRleHRTcGFuKHNpYmxpbmcpICYmIEFycmF5LmlzQXJyYXkoc2libGluZy5tYXJrcykgJiYgc2libGluZy5tYXJrcy5pbmRleE9mKG1hcmspICE9PSAtMSkge1xuICAgICAgICBvY2N1cmVuY2VzW21hcmtdKys7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBicmVhaztcbiAgICAgIH1cbiAgICB9XG4gIH0pO1xuICByZXR1cm4gbWFya3Muc29ydCgobWFya0EsIG1hcmtCKSA9PiBzb3J0TWFya3Mob2NjdXJlbmNlcywgbWFya0EsIG1hcmtCKSk7XG59XG5mdW5jdGlvbiBzb3J0TWFya3Mob2NjdXJlbmNlcywgbWFya0EsIG1hcmtCKSB7XG4gIGNvbnN0IGFPY2N1cmVuY2VzID0gb2NjdXJlbmNlc1ttYXJrQV07XG4gIGNvbnN0IGJPY2N1cmVuY2VzID0gb2NjdXJlbmNlc1ttYXJrQl07XG4gIGlmIChhT2NjdXJlbmNlcyAhPT0gYk9jY3VyZW5jZXMpIHtcbiAgICByZXR1cm4gYk9jY3VyZW5jZXMgLSBhT2NjdXJlbmNlcztcbiAgfVxuICBjb25zdCBhS25vd25Qb3MgPSBrbm93bkRlY29yYXRvcnMuaW5kZXhPZihtYXJrQSk7XG4gIGNvbnN0IGJLbm93blBvcyA9IGtub3duRGVjb3JhdG9ycy5pbmRleE9mKG1hcmtCKTtcbiAgaWYgKGFLbm93blBvcyAhPT0gYktub3duUG9zKSB7XG4gICAgcmV0dXJuIGFLbm93blBvcyAtIGJLbm93blBvcztcbiAgfVxuICByZXR1cm4gbWFya0EubG9jYWxlQ29tcGFyZShtYXJrQik7XG59XG5mdW5jdGlvbiBidWlsZE1hcmtzVHJlZShibG9jaykge1xuICB2YXIgX2E7XG4gIGNvbnN0IHtcbiAgICBjaGlsZHJlbixcbiAgICBtYXJrRGVmcyA9IFtdXG4gIH0gPSBibG9jaztcbiAgaWYgKCFjaGlsZHJlbiB8fCAhY2hpbGRyZW4ubGVuZ3RoKSB7XG4gICAgcmV0dXJuIFtdO1xuICB9XG4gIGNvbnN0IHNvcnRlZE1hcmtzID0gY2hpbGRyZW4ubWFwKHNvcnRNYXJrc0J5T2NjdXJlbmNlcyk7XG4gIGNvbnN0IHJvb3ROb2RlID0ge1xuICAgIF90eXBlOiBcIkBzcGFuXCIsXG4gICAgY2hpbGRyZW46IFtdLFxuICAgIG1hcmtUeXBlOiBcIjx1bmtub3duPlwiXG4gIH07XG4gIGxldCBub2RlU3RhY2sgPSBbcm9vdE5vZGVdO1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGNoaWxkcmVuLmxlbmd0aDsgaSsrKSB7XG4gICAgY29uc3Qgc3BhbiA9IGNoaWxkcmVuW2ldO1xuICAgIGlmICghc3Bhbikge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGNvbnN0IG1hcmtzTmVlZGVkID0gc29ydGVkTWFya3NbaV0gfHwgW107XG4gICAgbGV0IHBvcyA9IDE7XG4gICAgaWYgKG5vZGVTdGFjay5sZW5ndGggPiAxKSB7XG4gICAgICBmb3IgKHBvczsgcG9zIDwgbm9kZVN0YWNrLmxlbmd0aDsgcG9zKyspIHtcbiAgICAgICAgY29uc3QgbWFyayA9ICgoX2EgPSBub2RlU3RhY2tbcG9zXSkgPT0gbnVsbCA/IHZvaWQgMCA6IF9hLm1hcmtLZXkpIHx8IFwiXCI7XG4gICAgICAgIGNvbnN0IGluZGV4ID0gbWFya3NOZWVkZWQuaW5kZXhPZihtYXJrKTtcbiAgICAgICAgaWYgKGluZGV4ID09PSAtMSkge1xuICAgICAgICAgIGJyZWFrO1xuICAgICAgICB9XG4gICAgICAgIG1hcmtzTmVlZGVkLnNwbGljZShpbmRleCwgMSk7XG4gICAgICB9XG4gICAgfVxuICAgIG5vZGVTdGFjayA9IG5vZGVTdGFjay5zbGljZSgwLCBwb3MpO1xuICAgIGxldCBjdXJyZW50Tm9kZSA9IG5vZGVTdGFja1tub2RlU3RhY2subGVuZ3RoIC0gMV07XG4gICAgaWYgKCFjdXJyZW50Tm9kZSkge1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGZvciAoY29uc3QgbWFya0tleSBvZiBtYXJrc05lZWRlZCkge1xuICAgICAgY29uc3QgbWFya0RlZiA9IG1hcmtEZWZzLmZpbmQoZGVmID0+IGRlZi5fa2V5ID09PSBtYXJrS2V5KTtcbiAgICAgIGNvbnN0IG1hcmtUeXBlID0gbWFya0RlZiA/IG1hcmtEZWYuX3R5cGUgOiBtYXJrS2V5O1xuICAgICAgY29uc3Qgbm9kZSA9IHtcbiAgICAgICAgX3R5cGU6IFwiQHNwYW5cIixcbiAgICAgICAgX2tleTogc3Bhbi5fa2V5LFxuICAgICAgICBjaGlsZHJlbjogW10sXG4gICAgICAgIG1hcmtEZWYsXG4gICAgICAgIG1hcmtUeXBlLFxuICAgICAgICBtYXJrS2V5XG4gICAgICB9O1xuICAgICAgY3VycmVudE5vZGUuY2hpbGRyZW4ucHVzaChub2RlKTtcbiAgICAgIG5vZGVTdGFjay5wdXNoKG5vZGUpO1xuICAgICAgY3VycmVudE5vZGUgPSBub2RlO1xuICAgIH1cbiAgICBpZiAoaXNQb3J0YWJsZVRleHRTcGFuKHNwYW4pKSB7XG4gICAgICBjb25zdCBsaW5lcyA9IHNwYW4udGV4dC5zcGxpdChcIlxcblwiKTtcbiAgICAgIGZvciAobGV0IGxpbmUgPSBsaW5lcy5sZW5ndGg7IGxpbmUtLSA+IDE7KSB7XG4gICAgICAgIGxpbmVzLnNwbGljZShsaW5lLCAwLCBcIlxcblwiKTtcbiAgICAgIH1cbiAgICAgIGN1cnJlbnROb2RlLmNoaWxkcmVuID0gY3VycmVudE5vZGUuY2hpbGRyZW4uY29uY2F0KGxpbmVzLm1hcCh0ZXh0ID0+ICh7XG4gICAgICAgIF90eXBlOiBcIkB0ZXh0XCIsXG4gICAgICAgIHRleHRcbiAgICAgIH0pKSk7XG4gICAgfSBlbHNlIHtcbiAgICAgIGN1cnJlbnROb2RlLmNoaWxkcmVuID0gY3VycmVudE5vZGUuY2hpbGRyZW4uY29uY2F0KHNwYW4pO1xuICAgIH1cbiAgfVxuICByZXR1cm4gcm9vdE5vZGUuY2hpbGRyZW47XG59XG5mdW5jdGlvbiBuZXN0TGlzdHMoYmxvY2tzLCBtb2RlKSB7XG4gIGNvbnN0IHRyZWUgPSBbXTtcbiAgbGV0IGN1cnJlbnRMaXN0O1xuICBmb3IgKGxldCBpID0gMDsgaSA8IGJsb2Nrcy5sZW5ndGg7IGkrKykge1xuICAgIGNvbnN0IGJsb2NrID0gYmxvY2tzW2ldO1xuICAgIGlmICghYmxvY2spIHtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoIWlzUG9ydGFibGVUZXh0TGlzdEl0ZW1CbG9jayhibG9jaykpIHtcbiAgICAgIHRyZWUucHVzaChibG9jayk7XG4gICAgICBjdXJyZW50TGlzdCA9IHZvaWQgMDtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoIWN1cnJlbnRMaXN0KSB7XG4gICAgICBjdXJyZW50TGlzdCA9IGxpc3RGcm9tQmxvY2soYmxvY2ssIGksIG1vZGUpO1xuICAgICAgdHJlZS5wdXNoKGN1cnJlbnRMaXN0KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoYmxvY2tNYXRjaGVzTGlzdChibG9jaywgY3VycmVudExpc3QpKSB7XG4gICAgICBjdXJyZW50TGlzdC5jaGlsZHJlbi5wdXNoKGJsb2NrKTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoKGJsb2NrLmxldmVsIHx8IDEpID4gY3VycmVudExpc3QubGV2ZWwpIHtcbiAgICAgIGNvbnN0IG5ld0xpc3QgPSBsaXN0RnJvbUJsb2NrKGJsb2NrLCBpLCBtb2RlKTtcbiAgICAgIGlmIChtb2RlID09PSBcImh0bWxcIikge1xuICAgICAgICBjb25zdCBsYXN0TGlzdEl0ZW0gPSBjdXJyZW50TGlzdC5jaGlsZHJlbltjdXJyZW50TGlzdC5jaGlsZHJlbi5sZW5ndGggLSAxXTtcbiAgICAgICAgY29uc3QgbmV3TGFzdENoaWxkID0gX29iamVjdFNwcmVhZChfb2JqZWN0U3ByZWFkKHt9LCBsYXN0TGlzdEl0ZW0pLCB7fSwge1xuICAgICAgICAgIGNoaWxkcmVuOiBbLi4ubGFzdExpc3RJdGVtLmNoaWxkcmVuLCBuZXdMaXN0XVxuICAgICAgICB9KTtcbiAgICAgICAgY3VycmVudExpc3QuY2hpbGRyZW5bY3VycmVudExpc3QuY2hpbGRyZW4ubGVuZ3RoIC0gMV0gPSBuZXdMYXN0Q2hpbGQ7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBjdXJyZW50TGlzdC5jaGlsZHJlbi5wdXNoKG5ld0xpc3QpO1xuICAgICAgfVxuICAgICAgY3VycmVudExpc3QgPSBuZXdMaXN0O1xuICAgICAgY29udGludWU7XG4gICAgfVxuICAgIGlmICgoYmxvY2subGV2ZWwgfHwgMSkgPCBjdXJyZW50TGlzdC5sZXZlbCkge1xuICAgICAgY29uc3QgbWF0Y2hpbmdCcmFuY2ggPSB0cmVlW3RyZWUubGVuZ3RoIC0gMV07XG4gICAgICBjb25zdCBtYXRjaCA9IG1hdGNoaW5nQnJhbmNoICYmIGZpbmRMaXN0TWF0Y2hpbmcobWF0Y2hpbmdCcmFuY2gsIGJsb2NrKTtcbiAgICAgIGlmIChtYXRjaCkge1xuICAgICAgICBjdXJyZW50TGlzdCA9IG1hdGNoO1xuICAgICAgICBjdXJyZW50TGlzdC5jaGlsZHJlbi5wdXNoKGJsb2NrKTtcbiAgICAgICAgY29udGludWU7XG4gICAgICB9XG4gICAgICBjdXJyZW50TGlzdCA9IGxpc3RGcm9tQmxvY2soYmxvY2ssIGksIG1vZGUpO1xuICAgICAgdHJlZS5wdXNoKGN1cnJlbnRMaXN0KTtcbiAgICAgIGNvbnRpbnVlO1xuICAgIH1cbiAgICBpZiAoYmxvY2subGlzdEl0ZW0gIT09IGN1cnJlbnRMaXN0Lmxpc3RJdGVtKSB7XG4gICAgICBjb25zdCBtYXRjaGluZ0JyYW5jaCA9IHRyZWVbdHJlZS5sZW5ndGggLSAxXTtcbiAgICAgIGNvbnN0IG1hdGNoID0gbWF0Y2hpbmdCcmFuY2ggJiYgZmluZExpc3RNYXRjaGluZyhtYXRjaGluZ0JyYW5jaCwge1xuICAgICAgICBsZXZlbDogYmxvY2subGV2ZWwgfHwgMVxuICAgICAgfSk7XG4gICAgICBpZiAobWF0Y2ggJiYgbWF0Y2gubGlzdEl0ZW0gPT09IGJsb2NrLmxpc3RJdGVtKSB7XG4gICAgICAgIGN1cnJlbnRMaXN0ID0gbWF0Y2g7XG4gICAgICAgIGN1cnJlbnRMaXN0LmNoaWxkcmVuLnB1c2goYmxvY2spO1xuICAgICAgICBjb250aW51ZTtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIGN1cnJlbnRMaXN0ID0gbGlzdEZyb21CbG9jayhibG9jaywgaSwgbW9kZSk7XG4gICAgICAgIHRyZWUucHVzaChjdXJyZW50TGlzdCk7XG4gICAgICAgIGNvbnRpbnVlO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zb2xlLndhcm4oXCJVbmtub3duIHN0YXRlIGVuY291bnRlcmVkIGZvciBibG9ja1wiLCBibG9jayk7XG4gICAgdHJlZS5wdXNoKGJsb2NrKTtcbiAgfVxuICByZXR1cm4gdHJlZTtcbn1cbmZ1bmN0aW9uIGJsb2NrTWF0Y2hlc0xpc3QoYmxvY2ssIGxpc3QpIHtcbiAgcmV0dXJuIChibG9jay5sZXZlbCB8fCAxKSA9PT0gbGlzdC5sZXZlbCAmJiBibG9jay5saXN0SXRlbSA9PT0gbGlzdC5saXN0SXRlbTtcbn1cbmZ1bmN0aW9uIGxpc3RGcm9tQmxvY2soYmxvY2ssIGluZGV4LCBtb2RlKSB7XG4gIHJldHVybiB7XG4gICAgX3R5cGU6IFwiQGxpc3RcIixcbiAgICBfa2V5OiBcIlwiLmNvbmNhdChibG9jay5fa2V5IHx8IFwiXCIuY29uY2F0KGluZGV4KSwgXCItcGFyZW50XCIpLFxuICAgIG1vZGUsXG4gICAgbGV2ZWw6IGJsb2NrLmxldmVsIHx8IDEsXG4gICAgbGlzdEl0ZW06IGJsb2NrLmxpc3RJdGVtLFxuICAgIGNoaWxkcmVuOiBbYmxvY2tdXG4gIH07XG59XG5mdW5jdGlvbiBmaW5kTGlzdE1hdGNoaW5nKHJvb3ROb2RlLCBtYXRjaGluZykge1xuICBjb25zdCBsZXZlbCA9IG1hdGNoaW5nLmxldmVsIHx8IDE7XG4gIGNvbnN0IHN0eWxlID0gbWF0Y2hpbmcubGlzdEl0ZW0gfHwgXCJub3JtYWxcIjtcbiAgY29uc3QgZmlsdGVyT25UeXBlID0gdHlwZW9mIG1hdGNoaW5nLmxpc3RJdGVtID09PSBcInN0cmluZ1wiO1xuICBpZiAoaXNQb3J0YWJsZVRleHRUb29sa2l0TGlzdChyb290Tm9kZSkgJiYgKHJvb3ROb2RlLmxldmVsIHx8IDEpID09PSBsZXZlbCAmJiBmaWx0ZXJPblR5cGUgJiYgKHJvb3ROb2RlLmxpc3RJdGVtIHx8IFwibm9ybWFsXCIpID09PSBzdHlsZSkge1xuICAgIHJldHVybiByb290Tm9kZTtcbiAgfVxuICBpZiAoIShcImNoaWxkcmVuXCIgaW4gcm9vdE5vZGUpKSB7XG4gICAgcmV0dXJuIHZvaWQgMDtcbiAgfVxuICBjb25zdCBub2RlID0gcm9vdE5vZGUuY2hpbGRyZW5bcm9vdE5vZGUuY2hpbGRyZW4ubGVuZ3RoIC0gMV07XG4gIHJldHVybiBub2RlICYmICFpc1BvcnRhYmxlVGV4dFNwYW4obm9kZSkgPyBmaW5kTGlzdE1hdGNoaW5nKG5vZGUsIG1hdGNoaW5nKSA6IHZvaWQgMDtcbn1cbmNvbnN0IGxlYWRpbmdTcGFjZSA9IC9eXFxzLztcbmNvbnN0IHRyYWlsaW5nU3BhY2UgPSAvXlxccy87XG5mdW5jdGlvbiB0b1BsYWluVGV4dChibG9jaykge1xuICBjb25zdCBibG9ja3MgPSBBcnJheS5pc0FycmF5KGJsb2NrKSA/IGJsb2NrIDogW2Jsb2NrXTtcbiAgbGV0IHRleHQgPSBcIlwiO1xuICBibG9ja3MuZm9yRWFjaCgoY3VycmVudCwgaW5kZXgpID0+IHtcbiAgICBpZiAoIWlzUG9ydGFibGVUZXh0QmxvY2soY3VycmVudCkpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgbGV0IHBhZCA9IGZhbHNlO1xuICAgIGN1cnJlbnQuY2hpbGRyZW4uZm9yRWFjaChzcGFuID0+IHtcbiAgICAgIGlmIChpc1BvcnRhYmxlVGV4dFNwYW4oc3BhbikpIHtcbiAgICAgICAgdGV4dCArPSBwYWQgJiYgdGV4dCAmJiAhdHJhaWxpbmdTcGFjZS50ZXN0KHRleHQpICYmICFsZWFkaW5nU3BhY2UudGVzdChzcGFuLnRleHQpID8gXCIgXCIgOiBcIlwiO1xuICAgICAgICB0ZXh0ICs9IHNwYW4udGV4dDtcbiAgICAgICAgcGFkID0gZmFsc2U7XG4gICAgICB9IGVsc2Uge1xuICAgICAgICBwYWQgPSB0cnVlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmIChpbmRleCAhPT0gYmxvY2tzLmxlbmd0aCAtIDEpIHtcbiAgICAgIHRleHQgKz0gXCJcXG5cXG5cIjtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gdGV4dDtcbn1cbmZ1bmN0aW9uIHNwYW5Ub1BsYWluVGV4dChzcGFuKSB7XG4gIGxldCB0ZXh0ID0gXCJcIjtcbiAgc3Bhbi5jaGlsZHJlbi5mb3JFYWNoKGN1cnJlbnQgPT4ge1xuICAgIGlmIChpc1BvcnRhYmxlVGV4dFRvb2xraXRUZXh0Tm9kZShjdXJyZW50KSkge1xuICAgICAgdGV4dCArPSBjdXJyZW50LnRleHQ7XG4gICAgfSBlbHNlIGlmIChpc1BvcnRhYmxlVGV4dFRvb2xraXRTcGFuKGN1cnJlbnQpKSB7XG4gICAgICB0ZXh0ICs9IHNwYW5Ub1BsYWluVGV4dChjdXJyZW50KTtcbiAgICB9XG4gIH0pO1xuICByZXR1cm4gdGV4dDtcbn1cbmNvbnN0IExJU1RfTkVTVF9NT0RFX0hUTUwgPSBcImh0bWxcIjtcbmNvbnN0IExJU1RfTkVTVF9NT0RFX0RJUkVDVCA9IFwiZGlyZWN0XCI7XG5leHBvcnQgeyBMSVNUX05FU1RfTU9ERV9ESVJFQ1QsIExJU1RfTkVTVF9NT0RFX0hUTUwsIGJ1aWxkTWFya3NUcmVlLCBpc1BvcnRhYmxlVGV4dEJsb2NrLCBpc1BvcnRhYmxlVGV4dExpc3RJdGVtQmxvY2ssIGlzUG9ydGFibGVUZXh0U3BhbiwgaXNQb3J0YWJsZVRleHRUb29sa2l0TGlzdCwgaXNQb3J0YWJsZVRleHRUb29sa2l0U3BhbiwgaXNQb3J0YWJsZVRleHRUb29sa2l0VGV4dE5vZGUsIG5lc3RMaXN0cywgc29ydE1hcmtzQnlPY2N1cmVuY2VzLCBzcGFuVG9QbGFpblRleHQsIHRvUGxhaW5UZXh0IH07XG4vLyMgc291cmNlTWFwcGluZ1VSTD1pbmRleC5qcy5tYXBcbiJdLCJuYW1lcyI6WyJvd25LZXlzIiwiZSIsInIiLCJ0IiwiT2JqZWN0Iiwia2V5cyIsImdldE93blByb3BlcnR5U3ltYm9scyIsIm8iLCJmaWx0ZXIiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3IiLCJlbnVtZXJhYmxlIiwicHVzaCIsImFwcGx5IiwiX29iamVjdFNwcmVhZCIsImFyZ3VtZW50cyIsImxlbmd0aCIsImZvckVhY2giLCJfZGVmaW5lUHJvcGVydHkiLCJnZXRPd25Qcm9wZXJ0eURlc2NyaXB0b3JzIiwiZGVmaW5lUHJvcGVydGllcyIsImRlZmluZVByb3BlcnR5Iiwib2JqIiwia2V5IiwidmFsdWUiLCJfdG9Qcm9wZXJ0eUtleSIsImNvbmZpZ3VyYWJsZSIsIndyaXRhYmxlIiwiYXJnIiwiX3RvUHJpbWl0aXZlIiwiU3RyaW5nIiwiaW5wdXQiLCJoaW50IiwicHJpbSIsIlN5bWJvbCIsInRvUHJpbWl0aXZlIiwidW5kZWZpbmVkIiwicmVzIiwiY2FsbCIsIlR5cGVFcnJvciIsIk51bWJlciIsImlzUG9ydGFibGVUZXh0U3BhbiIsIm5vZGUiLCJfdHlwZSIsInRleHQiLCJtYXJrcyIsIkFycmF5IiwiaXNBcnJheSIsImV2ZXJ5IiwibWFyayIsImlzUG9ydGFibGVUZXh0QmxvY2siLCJtYXJrRGVmcyIsImRlZiIsIl9rZXkiLCJjaGlsZHJlbiIsImNoaWxkIiwiaXNQb3J0YWJsZVRleHRMaXN0SXRlbUJsb2NrIiwiYmxvY2siLCJsaXN0SXRlbSIsImxldmVsIiwiaXNQb3J0YWJsZVRleHRUb29sa2l0TGlzdCIsImlzUG9ydGFibGVUZXh0VG9vbGtpdFNwYW4iLCJzcGFuIiwiaXNQb3J0YWJsZVRleHRUb29sa2l0VGV4dE5vZGUiLCJrbm93bkRlY29yYXRvcnMiLCJzb3J0TWFya3NCeU9jY3VyZW5jZXMiLCJpbmRleCIsImJsb2NrQ2hpbGRyZW4iLCJzbGljZSIsIm9jY3VyZW5jZXMiLCJzaWJsaW5nSW5kZXgiLCJzaWJsaW5nIiwiaW5kZXhPZiIsInNvcnQiLCJtYXJrQSIsIm1hcmtCIiwic29ydE1hcmtzIiwiYU9jY3VyZW5jZXMiLCJiT2NjdXJlbmNlcyIsImFLbm93blBvcyIsImJLbm93blBvcyIsImxvY2FsZUNvbXBhcmUiLCJidWlsZE1hcmtzVHJlZSIsIl9hIiwic29ydGVkTWFya3MiLCJtYXAiLCJyb290Tm9kZSIsIm1hcmtUeXBlIiwibm9kZVN0YWNrIiwiaSIsIm1hcmtzTmVlZGVkIiwicG9zIiwibWFya0tleSIsInNwbGljZSIsImN1cnJlbnROb2RlIiwibWFya0RlZiIsImZpbmQiLCJsaW5lcyIsInNwbGl0IiwibGluZSIsImNvbmNhdCIsIm5lc3RMaXN0cyIsImJsb2NrcyIsIm1vZGUiLCJ0cmVlIiwiY3VycmVudExpc3QiLCJsaXN0RnJvbUJsb2NrIiwiYmxvY2tNYXRjaGVzTGlzdCIsIm5ld0xpc3QiLCJsYXN0TGlzdEl0ZW0iLCJuZXdMYXN0Q2hpbGQiLCJtYXRjaGluZ0JyYW5jaCIsIm1hdGNoIiwiZmluZExpc3RNYXRjaGluZyIsImNvbnNvbGUiLCJ3YXJuIiwibGlzdCIsIm1hdGNoaW5nIiwic3R5bGUiLCJmaWx0ZXJPblR5cGUiLCJsZWFkaW5nU3BhY2UiLCJ0cmFpbGluZ1NwYWNlIiwidG9QbGFpblRleHQiLCJjdXJyZW50IiwicGFkIiwidGVzdCIsInNwYW5Ub1BsYWluVGV4dCIsIkxJU1RfTkVTVF9NT0RFX0hUTUwiLCJMSVNUX05FU1RfTU9ERV9ESVJFQ1QiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///(app-pages-browser)/./node_modules/@portabletext/toolkit/dist/index.js\n"));

/***/ })

}]);